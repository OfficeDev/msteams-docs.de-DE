---
title: Kombinieren von Bots mit Registerkarten
description: Beschreibt die gemeinsame Verwendung von Tabs und Bots
keywords: Teams Bots Tabs Entwicklung
ms.topic: conceptual
localization_priority: Normal
ms.date: 03/15/2018
ms.openlocfilehash: 3273369ad1122355b792dc3d429c3a4eff7e1d47
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566453"
---
# <a name="combine-bots-with-tabs"></a><span data-ttu-id="b7d8c-104">Kombinieren von Bots mit Registerkarten</span><span class="sxs-lookup"><span data-stu-id="b7d8c-104">Combine bots with tabs</span></span>

[!include[v3-to-v4-SDK-pointer](~/includes/v3-to-v4-pointer-bots.md)]

<span data-ttu-id="b7d8c-105">Bots und Tabs funktionieren gut zusammen und werden oft zu einem einzigen Back-End-Service kombiniert.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-105">Bots and tabs work well together, and are often combined into a single back-end service.</span></span> <span data-ttu-id="b7d8c-106">In diesem Abschnitt werden bewährte Methoden und allgemeine Muster für die gemeinsame Verwendung von Registerkarten und Bots beschrieben.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-106">This section describes best practices and common patterns for using tabs and bots together.</span></span>

## <a name="associating-user-identities-across-bot-and-tab"></a><span data-ttu-id="b7d8c-107">Zuordnen von Benutzeridentitäten zwischen Bot und Registerkarte</span><span class="sxs-lookup"><span data-stu-id="b7d8c-107">Associating user identities across bot and tab</span></span>

<span data-ttu-id="b7d8c-108">Beispiel: Angenommen, Ihre Tab-Anwendung verwendet ein proprietäres ID-System, um ihren Inhalt zu sichern.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-108">For example: Suppose your tab application uses a proprietary ID system to secure its content.</span></span> <span data-ttu-id="b7d8c-109">Angenommen, Sie haben auch einen Bot, der mit dem Benutzer interagieren kann.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-109">Suppose you also have a bot that can interact with the user.</span></span> <span data-ttu-id="b7d8c-110">In der Regel sollten Sie Inhalte auf der Registerkarte anzeigen, die für den anzeigenden Benutzer spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-110">Typically, you’ll want to show content in the tab that is specific to the viewing user.</span></span> <span data-ttu-id="b7d8c-111">Die Herausforderung besteht darin, dass sich die Benutzer-ID in Ihrem System wahrscheinlich von der Microsoft Teams-Benutzer-ID unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-111">The challenge is that the user ID in your system is likely different from the Microsoft Teams user ID.</span></span> <span data-ttu-id="b7d8c-112">Wie verbinden Sie diese beiden Identitäten?</span><span class="sxs-lookup"><span data-stu-id="b7d8c-112">So how do you associate these two identities?</span></span>
<span data-ttu-id="b7d8c-113">Im Allgemeinen wird empfohlen, den Benutzer mit dem Bot mit demselben Identitätssystem zu signieren, das zum Bereitstellen der Authentifizierung für den Tabstoppinhalt verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-113">In general, the recommended approach is to sign the user in with the bot using the same identity system used to provide authentication for the tab content.</span></span> <span data-ttu-id="b7d8c-114">Sie können dies über die Anmeldeaktion implementieren, die sich in der Regel über einen OAuth-Fluss beim Benutzer anmeldet.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-114">You can implement this via the sign-in action, which typically logs in the user via an OAuth flow.</span></span>

<span data-ttu-id="b7d8c-115">Dieser Flow funktioniert am besten, wenn Ihr Identitätsanbieter das OAuth 2.0-Protokoll implementiert.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-115">This flow works best if your identity provider implements the OAuth 2.0 protocol.</span></span> <span data-ttu-id="b7d8c-116">Anschließend können Sie die Teams Benutzer-ID den Anmeldeinformationen des Benutzers aus Ihrem eigenen Identitätsdienst zuordnen.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-116">You can then associate the Teams user ID with the user’s credentials from your own identity service.</span></span>

   ![Zuordnen von Identitäten](~/assets/images/bots/associating_contexts.png)

## <a name="constructing-deep-links-to-tabs-in-messages-from-your-bot"></a><span data-ttu-id="b7d8c-118">Erstellen von tiefen Links zu Registerkarten in Nachrichten aus Ihrem Bot</span><span class="sxs-lookup"><span data-stu-id="b7d8c-118">Constructing deep links to tabs in messages from your bot</span></span>

<span data-ttu-id="b7d8c-119">Sie können Registerkarten verwenden, um mehr Inhalt anzuzeigen, als in eine Karte passen, oder eine Möglichkeit bieten, komplexe Formularfüllaufgaben mithilfe des Registerkartenbereichs abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-119">You may want to use tabs to show more content than can fit inside of a card, or provide a way to complete complex form-filling tasks using the tab canvas.</span></span> <span data-ttu-id="b7d8c-120">Erwägen Sie beispielsweise, den Benutzer auf die Registerkarte zu navigieren, wenn er auf die Karte ihres Bots klickt.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-120">For example, consider navigating the user to the tab when he or she clicks on the card from your bot.</span></span> <span data-ttu-id="b7d8c-121">Damit dies geschieht, müssen Sie die Nachricht Ihres Bots codieren, um eine [Deep-Link-URL](~/concepts/build-and-test/deep-links.md) einzuschließen, entweder durch Markup oder als Ziel der openUrl-Aktion.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-121">For this to happen, you’ll need to encode your bot’s message to include a [deep link](~/concepts/build-and-test/deep-links.md) URL, either through markup or as the target of the openUrl action.</span></span>

<span data-ttu-id="b7d8c-122">Tiefe Verknüpfungen basieren auf einer entityId, einem undurchsichtigen Wert, der einer eindeutigen Entität in Ihrem System zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-122">Deep links rely on an entityId, which is an opaque value that maps to a unique entity in your system.</span></span> <span data-ttu-id="b7d8c-123">Wenn die Registerkarte erstellt wird, speichern Sie idealerweise einen einfachen Zustand, z. B. ein Flag auf Ihrem Backend, das angibt, dass die Registerkarte im Kanal erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-123">When the tab is created, you ideally store some simple state, For example, flag on your backend indicating the tab has been created in the channel.</span></span> <span data-ttu-id="b7d8c-124">Wenn Ihr Bot eine Nachricht erstellt, kann er auf die entityId abzielen, die dieser Registerkarte zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-124">When your bot constructs a message, it can target the entityId associated with that tab.</span></span>

> [!NOTE]
> <span data-ttu-id="b7d8c-125">In persönlichen Chats, da Tabs "statisch" sind und mit der App installiert sind, können Sie immer ihre Existenz annehmen und so tiefe Links entsprechend konstruieren.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-125">in personal chats, because tabs are “static” and installed with the app, you can always assume their existence and thus construct deep links accordingly.</span></span>

## <a name="sending-notifications-for-tab-updates"></a><span data-ttu-id="b7d8c-126">Senden von Benachrichtigungen für Tabstoppaktualisierungen</span><span class="sxs-lookup"><span data-stu-id="b7d8c-126">Sending notifications for tab updates</span></span>

<span data-ttu-id="b7d8c-127">Häufig möchten Sie den Endbenutzer benachrichtigen, wenn ein Update oder eine Benutzeraktion auf einer Registerkarte stattfindet. Ein Beispielszenario besteht darin, einem anderen Teammitglied eine Aufgabe oder ein Ticket zuzuweisen und dieses Teammitglied dann zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-127">Often you’ll want to notify the end user whenever an update or a user action occurs in a tab. An example scenario is assigning a task or ticket to a fellow team member and then notifying that team member.</span></span>

<span data-ttu-id="b7d8c-128">Es gibt zwei Möglichkeiten, dieses Szenario zu erreichen:</span><span class="sxs-lookup"><span data-stu-id="b7d8c-128">There are two ways of achieving this scenario:</span></span>

1. <span data-ttu-id="b7d8c-129">Wenn Sie einen gesamten Kanal benachrichtigen möchten, kann Ihr Bot asynchron eine Nachricht an den Kanal senden.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-129">If you wish to notify an entire channel your bot can asynchronously post a message to the channel.</span></span> <span data-ttu-id="b7d8c-130">Es gibt keine Möglichkeit für einen Bot, proaktiv die Tabstoppunterhaltung zu erstellen, wenn sie nicht mit der Registerkarte erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-130">There is no way for a bot to proactively create the tab conversation if it wasn't created with the tab.</span></span>

2. <span data-ttu-id="b7d8c-131">Wenn Sie nur den Empfänger oder interessierte Parteien, die an der Aktion beteiligt sind, benachrichtigen möchten, kann Ihr Bot eine persönliche Chat-Nachricht an den Benutzer senden.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-131">If you wish to only notify the recipient or interested parties involved with the action, your bot can send a personal chat message to the user.</span></span> <span data-ttu-id="b7d8c-132">Sie sollten zuerst überprüfen, ob eine persönliche Unterhaltung zwischen Ihrem Bot und dem Benutzer vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-132">You should first check to see if a personal conversation between your bot and the user exists.</span></span> <span data-ttu-id="b7d8c-133">Wenn nicht, können Sie `CreateConversation` anrufen, um den persönlichen Chat zu initiieren.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-133">If not, you can call `CreateConversation` to initiate the personal chat.</span></span>

<span data-ttu-id="b7d8c-134">Verwenden Sie in beiden Fällen Ereignisbenachrichtigungen mit Bedacht und spamtherieren Sie den Benutzer niemals mit unnötigen Updates.</span><span class="sxs-lookup"><span data-stu-id="b7d8c-134">In both cases, use event notifications wisely and never spam the user with unnecessary updates.</span></span>
