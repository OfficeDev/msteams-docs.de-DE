---
title: Anforderungen und Überlegungen für von der Anwendung gehostete Medienbots
description: Informationen zu wichtigen Anforderungen und Überlegungen im Zusammenhang mit der Erstellung von von Anwendungen gehosteten Medienbots für Microsoft Teams.
ms.topic: conceptual
keywords: Von der Anwendung gehostete Medien windows server azure vm
ms.date: 11/16/2018
ms.openlocfilehash: bf75b7f689713f16cb3ff9ff4313ab829b5cc2d6
ms.sourcegitcommit: 976e870cc925f61b76c3830ec04ba6e4bdfde32f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/27/2021
ms.locfileid: "50014488"
---
# <a name="requirements-and-considerations-for-application-hosted-media-bots"></a><span data-ttu-id="5f2f1-104">Anforderungen und Überlegungen für von der Anwendung gehostete Medienbots</span><span class="sxs-lookup"><span data-stu-id="5f2f1-104">Requirements and considerations for application-hosted media bots</span></span>

<span data-ttu-id="5f2f1-105">Nicht alle Anleitungen für die Entwicklung von Messaging- und Interactive Voice Response (IVR)-Bots gelten gleichermaßen für das Erstellen von von Anwendungen gehosteten Medienbots.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-105">Not all guidance for developing messaging and Interactive Voice Response (IVR) bots applies equally to building application-hosted media bots.</span></span> <span data-ttu-id="5f2f1-106">In diesem Artikel werden einige der wichtigen Anforderungen und Überlegungen für die Entwicklung und Ausführung eines in einer Anwendung gehosteten Medienbots beschrieben.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-106">This article describes some of the important requirements and considerations for developing and running an application-hosted media bot.</span></span>

> [!NOTE]
> <span data-ttu-id="5f2f1-107">Da sich die Microsoft Real-time Media Platform für Bots in der Entwicklervorschau befindet, kann die Anleitung in diesem Artikel geändert werden.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-107">Because the Microsoft Real-time Media Platform for Bots is in developer preview, the guidance in this article is subject to change.</span></span>

## <a name="application-hosted-media-bot-development-requires-cnet-and-windows-server"></a><span data-ttu-id="5f2f1-108">Für die Entwicklung von von der Anwendung gehosteten Medienbots sind C#/.NET und Windows Server erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-108">Application-hosted media bot development requires C#/.NET and Windows Server</span></span>

- <span data-ttu-id="5f2f1-109">Ein von einer Anwendung gehosteter Medienbot erfordert die .NET-Bibliothek (hier verfügbar für den Zugriff auf die Audio- und Videomedienstreams, und der Bot muss auf einem Windows Server-Computer (oder Windows Server-Gastbetriebssystem in Azure) bereitgestellt `Microsoft.Graph.Communications.Calls.Media` werden.[](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/)</span><span class="sxs-lookup"><span data-stu-id="5f2f1-109">An application-hosted media bot requires the `Microsoft.Graph.Communications.Calls.Media` .NET library ([available here](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) to access the audio and video media streams, and the bot must be deployed on a Windows Server machine (or Windows Server guest OS in Azure).</span></span> <span data-ttu-id="5f2f1-110">Daher muss der Bot in C# und dem standardmäßigen .NET Framework entwickelt und in Microsoft Azure bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-110">Therefore, the bot must be developed in C# and the standard .NET Framework and deployed in Microsoft Azure.</span></span> <span data-ttu-id="5f2f1-111">Sie können C++ oder Node.js-APIs nicht für den Zugriff auf Echtzeitmedien verwenden, und .NET Core wird für einen in der Anwendung gehosteten Medienbot nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-111">You can't use C++ or Node.js APIs to access real-time media and .NET Core is not supported for an application-hosted media bot.</span></span>

- <span data-ttu-id="5f2f1-112">Ein von einer Anwendung gehosteter Medienbot kann in einer der folgenden Azure-Dienstumgebungen gehostet werden:</span><span class="sxs-lookup"><span data-stu-id="5f2f1-112">An application-hosted media bot can be hosted within one of the following Azure service environments:</span></span>
  - <span data-ttu-id="5f2f1-113">Clouddienst.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-113">Cloud Service.</span></span>
  - <span data-ttu-id="5f2f1-114">Service Fabric mit VmSS (Virtual Machine Scale Sets).</span><span class="sxs-lookup"><span data-stu-id="5f2f1-114">Service Fabric with Virtual Machine Scale Sets (VMSS).</span></span>
  - <span data-ttu-id="5f2f1-115">Infrastructure as a Service (IaaS) Virtual Machine (VM).</span><span class="sxs-lookup"><span data-stu-id="5f2f1-115">Infrastructure as a Service (IaaS) Virtual Machine (VM).</span></span>  
  
- <span data-ttu-id="5f2f1-116">Ein in der Anwendung gehosteter Medienbot kann nicht als Azure Web App bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-116">An application-hosted media bot can't be deployed as an Azure Web App.</span></span>

- <span data-ttu-id="5f2f1-117">Ein in der Anwendung gehosteter Medienbot muss auf einer aktuellen Version der `Microsoft.Graph.Communications.Calls.Media` .NET-Bibliothek ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-117">An application-hosted media bot must be running on a recent version of the `Microsoft.Graph.Communications.Calls.Media` .NET library.</span></span> <span data-ttu-id="5f2f1-118">Der Bot sollte entweder die neueste verfügbare Version des [NuGet-Pakets](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/)oder eine Version verwenden, die nicht mehr als drei Monate alt ist.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-118">The bot should use either the newest available version of the [NuGet package](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/), or a version that is not more than three months old.</span></span> <span data-ttu-id="5f2f1-119">Ältere Versionen der Bibliothek sind veraltet und funktionieren nach einigen Monaten möglicherweise nicht mehr.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-119">Older versions of the library will be deprecated and may not work after a few months.</span></span> <span data-ttu-id="5f2f1-120">Wenn Sie die Bibliothek auf dem neuesten Stand halten, wird `Microsoft.Graph.Communications.Calls.Media` die beste Interoperabilität zwischen dem Bot und Microsoft Teams sichergestellt.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-120">Keeping the `Microsoft.Graph.Communications.Calls.Media` library up-to-date will ensure the best interoperability between the bot and Microsoft Teams.</span></span>

## <a name="real-time-media-calls-stay-on-the-machine-where-they-were-created"></a><span data-ttu-id="5f2f1-121">Echtzeitmedienanrufe bleiben auf dem Computer, auf dem sie erstellt wurden</span><span class="sxs-lookup"><span data-stu-id="5f2f1-121">Real-time media calls stay on the machine where they were created</span></span>

- <span data-ttu-id="5f2f1-122">Ein Echtzeitmedienanruf wird an die Instanz des virtuellen Computers (VM) angeheftet, die den Anruf angenommen oder gestartet hat.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-122">A real-time media call is pinned to the virtual machine (VM) instance that accepted or started the call.</span></span> <span data-ttu-id="5f2f1-123">Medien aus einem Microsoft Teams-Anruf oder einer Besprechung fließen zu dieser VM-Instanz, und Medien, die der Bot an Microsoft Teams zurücksendet, müssen ebenfalls von diesem virtuellen Computer stammen.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-123">Media from a Microsoft Teams call or meeting will flow to that VM instance, and media the bot sends back to Microsoft Teams must also originate from that VM.</span></span>
- <span data-ttu-id="5f2f1-124">Wenn beim Beenden des virtuellen Computers Echtzeitmedienanrufe ausgeführt werden, werden diese Anrufe abrupt beendet.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-124">If there are any real-time media calls in progress when the VM is stopped, those calls will be abruptly terminated.</span></span> <span data-ttu-id="5f2f1-125">Wenn der Bot bereits über Kenntnisse des ausstehenden Herunterfahrens von virtuellen Computer verfügt, kann er versuchen, die Anrufe "anständig" zu beenden.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-125">If the bot has prior knowledge of the pending VM shutdown, it can try to "gracefully" end the calls.</span></span>

## <a name="application-hosted-media-bots-must-be-directly-accessible-on-the-internet"></a><span data-ttu-id="5f2f1-126">Auf von der Anwendung gehostete Medienbots muss direkt über das Internet zugegriffen werden können.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-126">Application-hosted media bots must be directly accessible on the internet</span></span>

- <span data-ttu-id="5f2f1-127">Jede VM-Instanz, die einen in der Anwendung gehosteten Medienbot in Azure hosten, muss direkt über das Internet über eine öffentliche ILPIP (Instance-Level Public IP Address) auf Instanzebene zugänglich sein.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-127">Each VM instance hosting an application-hosted media bot in Azure must be directly accessible from the internet using an instance-level public IP address (ILPIP).</span></span>
  - <span data-ttu-id="5f2f1-128">Informationen zum Abrufen und Konfigurieren eines ILPIP für einen Azure Cloud Service finden Sie in der Übersicht über öffentliche [IP (Classic) auf Instanzebene.](/azure/virtual-network/virtual-networks-instance-level-public-ip)</span><span class="sxs-lookup"><span data-stu-id="5f2f1-128">For obtaining and configuring an ILPIP for an Azure Cloud Service, see [Instance level public IP (Classic) overview](/azure/virtual-network/virtual-networks-instance-level-public-ip).</span></span>
  - <span data-ttu-id="5f2f1-129">Informationen zum Konfigurieren eines ILPIP für einen Skalierungssatz für virtuelle Computer finden Sie unter [Öffentliches IPv4 pro virtuellem Computer.](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking#public-ipv4-per-virtual-machine)</span><span class="sxs-lookup"><span data-stu-id="5f2f1-129">For configuring an ILPIP for a VM Scale Set, see [Public IPv4 per virtual machine](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking#public-ipv4-per-virtual-machine).</span></span>
- <span data-ttu-id="5f2f1-130">Der Dienst, der einen in der Anwendung gehosteten Medienbot hosten soll, muss außerdem jede VM-Instanz mit einem öffentlich zugänglichen Port konfigurieren, der der jeweiligen Instanz zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-130">The service hosting an application-hosted media bot must also configure each VM instance with a public-facing port which maps to the specific instance.</span></span>
  - <span data-ttu-id="5f2f1-131">Für einen Azure Cloud Service ist dafür ein Instanzeingabeendpunkt erforderlich. Siehe ["Kommunikation für Rolleninstanzen in Azure aktivieren".](/azure/cloud-services/cloud-services-enable-communication-role-instances)</span><span class="sxs-lookup"><span data-stu-id="5f2f1-131">For an Azure Cloud Service, this requires an instance input endpoint; see [Enable communication for role instances in Azure](/azure/cloud-services/cloud-services-enable-communication-role-instances).</span></span>
  - <span data-ttu-id="5f2f1-132">Für einen #A0 muss eine #A1 im Lastenausgleich konfiguriert werden. siehe [Virtuelle Netzwerke und virtuelle Computer in Azure](/azure/virtual-machines/windows/network-overview).</span><span class="sxs-lookup"><span data-stu-id="5f2f1-132">For a VM Scale Set, a NAT rule on the load balancer must be configured; see [Virtual networks and virtual machines in Azure](/azure/virtual-machines/windows/network-overview).</span></span>
- <span data-ttu-id="5f2f1-133">Von der Anwendung gehostete Medienbots werden vom Bot -Framework-Emulator nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-133">Application-hosted media bots aren't supported by the Bot Framework Emulator.</span></span>

## <a name="scalability-and-performance-considerations"></a><span data-ttu-id="5f2f1-134">Überlegungen zu Skalierbarkeit und Leistung</span><span class="sxs-lookup"><span data-stu-id="5f2f1-134">Scalability and performance considerations</span></span>

- <span data-ttu-id="5f2f1-135">In der Anwendung gehostete Medienbots erfordern eine höhere Rechen- und Netzwerkkapazität (Bandbreite) als Messaging-Bots und können deutlich höhere Betriebskosten verursachen.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-135">Application-hosted media bots require more compute and network (bandwidth) capacity than messaging bots and may incur significantly higher operational costs.</span></span> <span data-ttu-id="5f2f1-136">Ein Entwickler eines Medienbots in Echtzeit muss die Skalierbarkeit des Bots sorgfältig messen und sicherstellen, dass der Bot nicht mehr gleichzeitige Anrufe akzeptiert, als er verwalten kann.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-136">A real-time media bot developer must carefully measure the bot's scalability, and ensure the bot doesn't accept more simultaneous calls than it can manage.</span></span> <span data-ttu-id="5f2f1-137">Ein videofähiger Bot kann möglicherweise nur eine oder zwei gleichzeitige Mediensitzungen pro PROZESSORkern unterstützen (bei Verwendung der "rohen" RGB24- oder NV12-Videoformate).</span><span class="sxs-lookup"><span data-stu-id="5f2f1-137">A video-enabled bot may be able to sustain only one or two concurrent media sessions per CPU core (if using the "raw" RGB24 or NV12 video formats).</span></span>
- <span data-ttu-id="5f2f1-138">Die Echtzeitmedienplattform nutzt derzeit keine auf dem virtuellen Computer verfügbaren Grafikprozessoren (Gpu), um die H.264-Videocodierung/-decodierung zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-138">The Real-time Media Platform doesn't currently take advantage of any Graphics Processing Units (GPU) available on the VM to off-load H.264 video encoding/decoding.</span></span> <span data-ttu-id="5f2f1-139">Stattdessen erfolgt die Videocodierung und -decodierung in der Software auf der CPU.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-139">Instead, video encode and decode are done in software on the CPU.</span></span> <span data-ttu-id="5f2f1-140">Wenn eine GPU verfügbar ist, kann der Bot sie für das eigene Grafikrendering nutzen (z. B. wenn der Bot ein 3D-Grafikmodul verwendet).</span><span class="sxs-lookup"><span data-stu-id="5f2f1-140">If a GPU is available, the bot may take advantage of it for its own graphics rendering (e.g. if the bot is using a 3D graphics engine).</span></span>
- <span data-ttu-id="5f2f1-141">Die VM-Instanz, die den Echtzeitmedienbot hosten, muss mindestens 2 Prozessorkerne haben.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-141">The VM instance hosting the real-time media bot must have at least 2 CPU cores.</span></span> <span data-ttu-id="5f2f1-142">Für Azure wird ein virtueller Computer der Dv2-Serie empfohlen.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-142">For Azure, a Dv2-series virtual machine is recommended.</span></span> <span data-ttu-id="5f2f1-143">Für andere Azure -VM-Typen ist ein System mit 4 virtuellen CPUs (vCPU) die erforderliche Mindestgröße.</span><span class="sxs-lookup"><span data-stu-id="5f2f1-143">For other Azure VM types, a system with 4 virtual CPUs (vCPU) is the minimum size required.</span></span> <span data-ttu-id="5f2f1-144">Ausführliche Informationen zu Azure -VM-Typen finden Sie in der [Azure-Dokumentation.](/azure/virtual-machines/windows/sizes-general)</span><span class="sxs-lookup"><span data-stu-id="5f2f1-144">Detailed information about Azure VM types is available in the [Azure documentation](/azure/virtual-machines/windows/sizes-general).</span></span>

## <a name="samples-and-additional-resources"></a><span data-ttu-id="5f2f1-145">Beispiele und zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="5f2f1-145">Samples and Additional Resources</span></span>

- [<span data-ttu-id="5f2f1-146">Beispielanwendungen</span><span class="sxs-lookup"><span data-stu-id="5f2f1-146">Sample applications</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples/tree/master/Samples/V1.0Samples/LocalMediaSamples)
- [<span data-ttu-id="5f2f1-147">Dokumentation zum Graph Calling SDK</span><span class="sxs-lookup"><span data-stu-id="5f2f1-147">Graph Calling SDK Documentation</span></span>](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/)
