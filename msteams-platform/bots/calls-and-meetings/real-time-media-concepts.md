---
title: Echt Zeit Medien Anrufe und Onlinebesprechungen mit Microsoft Teams
description: Grundlegende Konzepte zum Erstellen von bot, die in Echtzeit Audio-und Videoanrufe und Onlinebesprechungen durchführen können.
keywords: Audio Stream Video Stream Audio/Videoanrufe Treffen in Echtzeit Medien Anwendung – gehosteter Mediendienst – gehostete Medien
ms.openlocfilehash: 0ec99d1caa8810d292170c7c70a1518de7301873
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/01/2020
ms.locfileid: "41674244"
---
# <a name="real-time-media-calls-and-meetings-with-microsoft-teams"></a><span data-ttu-id="c07ac-104">Echt Zeit Medien Anrufe und Besprechungen mit Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="c07ac-104">Real-time media calls and meetings with Microsoft Teams</span></span>

<span data-ttu-id="c07ac-105">Die Echtzeit-Medienplattform ermöglicht Bots die Interaktion mit Microsoft Teams-anrufen und Besprechungen mit Echt Zeit Sprache, Video und Bildschirmfreigabe.</span><span class="sxs-lookup"><span data-stu-id="c07ac-105">The Real-time Media Platform enables bots to interact with Microsoft Teams calls and meetings using real-time voice, video, and screen sharing.</span></span> <span data-ttu-id="c07ac-106">Dies ist eine erweiterte Funktion, mit der der bot den Sprach-und Videoinhalt *Frame für Frame*senden und empfangen kann.</span><span class="sxs-lookup"><span data-stu-id="c07ac-106">This is an advanced capability which allows the bot to send and receive voice and video content *frame by frame*.</span></span> <span data-ttu-id="c07ac-107">Der bot verfügt über einen "RAW"-Zugriff auf die Mediendatenströme Voice, Video und Screen Sharing.</span><span class="sxs-lookup"><span data-stu-id="c07ac-107">The bot has "raw" access to the voice, video, and screen sharing media streams.</span></span> <span data-ttu-id="c07ac-108">(Bots, die Medien selbst verarbeiten, werden als _Anwendungs gehostete Medien_ Bots bezeichnet, im Gegensatz zu einfacheren _Dienst gehosteten Medien_ Bots, die auf der Echt Zeit Medienplattform für die gesamte Medienverarbeitung basieren.)</span><span class="sxs-lookup"><span data-stu-id="c07ac-108">(Bots which process media themselves are called _application-hosted media_ bots, as opposed to simpler _service-hosted media_ bots that rely on the Real-time Media platform for all media processing.)</span></span>

<span data-ttu-id="c07ac-109">Beispielsweise erhält der bot in einem 1:1-Aufruf mit einem bot, wie der Benutzer spricht, 50-Audioframes pro Sekunde, wobei jeder Frame 20 Millisekunden (MS) Audio enthält.</span><span class="sxs-lookup"><span data-stu-id="c07ac-109">For example, in a 1:1 call with a bot, as the user speaks, the bot will receive 50 audio frames per second, with each frame containing 20 milliseconds (ms) of audio.</span></span> <span data-ttu-id="c07ac-110">Ein von der Anwendung gehosteter Medien-bot kann die Spracherkennung in Echtzeit durchführen, wenn die Audioframes empfangen werden, anstatt auf eine Aufzeichnung warten zu müssen, nachdem der Benutzer die Sprechzeit angehalten hat.</span><span class="sxs-lookup"><span data-stu-id="c07ac-110">An application-hosted media bot can perform real-time speech recognition as the audio frames are received, rather than having to wait for a recording after the user has stopped speaking.</span></span> <span data-ttu-id="c07ac-111">Der Bot kann auch Video mit hoher Auflösung, einschließlich videobasierter Bildschirmfreigabe Inhalte, senden und empfangen.</span><span class="sxs-lookup"><span data-stu-id="c07ac-111">The bot can also send and receive high-definition-resolution video, including video-based screen sharing content.</span></span>

<span data-ttu-id="c07ac-112">Die Plattform bietet eine einfache Socket-ähnliche API für den bot zum Senden und empfangen von Medien und behandelt die Echtzeitcodierung und-Decodierung von Audio/Video-Paketen mithilfe von Codecs wie Silk und G. 722 für Audio und H. 264 für Video.</span><span class="sxs-lookup"><span data-stu-id="c07ac-112">The platform provides a simple socket-like API for the bot to send and receive media, and handles the real-time encoding and decoding of audio/video packets using codecs such as SILK and G.722 for audio and H.264 for video.</span></span> <span data-ttu-id="c07ac-113">Die Plattform verarbeitet auch die gesamte Medienpaket Verschlüsselung/-Entschlüsselung und die Paketnetzwerk Übertragung automatisch, sodass sich der bot nur mit dem tatsächlichen Audio/Video-Inhalt befassen muss.</span><span class="sxs-lookup"><span data-stu-id="c07ac-113">The platform also handles all media packet encryption/decryption and packet network transmission automatically, so the bot just needs to concern itself with the actual audio/video content.</span></span> <span data-ttu-id="c07ac-114">Ein Echtzeit-Medien-bot kann an 1:1 anrufen sowie Besprechungen mit mehreren Teilnehmern teilnehmen.</span><span class="sxs-lookup"><span data-stu-id="c07ac-114">A real-time media bot may participate in 1:1 calls as well as meetings with multiple participants.</span></span>

<span data-ttu-id="c07ac-115">In diesem Artikel werden wichtige Konzepte im Zusammenhang mit dem Erstellen eines bot vorgestellt, der Audio-und Videoanrufe in Echtzeit mit Microsoft Teams durchführen kann.</span><span class="sxs-lookup"><span data-stu-id="c07ac-115">This article introduces key concepts related to building a bot that can conduct real-time audio/video calls with Microsoft Teams.</span></span>

## <a name="media-session"></a><span data-ttu-id="c07ac-116">Mediensitzung</span><span class="sxs-lookup"><span data-stu-id="c07ac-116">Media session</span></span>

<span data-ttu-id="c07ac-117">Wenn ein Echtzeit-Medien-bot einen eingehenden Anruf beantwortet oder einer Microsoft Teams-Besprechung Beitritt, muss er deklarieren, welche Modalitäten er unterstützen möchte.</span><span class="sxs-lookup"><span data-stu-id="c07ac-117">When a real-time media bot answers an incoming call or joins a Microsoft Teams meeting, it must declare what modalities it intends to support.</span></span> <span data-ttu-id="c07ac-118">Für jede unterstützte Modalität deklariert der bot, ob er Medien senden und empfangen, nur empfangen oder nur senden kann.</span><span class="sxs-lookup"><span data-stu-id="c07ac-118">For each supported modality, the bot declares whether it can send and receive media, receive only, or send only.</span></span> <span data-ttu-id="c07ac-119">Beispielsweise möchte ein bot, der 1:1-Teams-Anrufe verarbeiten soll, sowohl Audio Senden als auch empfangen, aber nur Video *senden* (da er das Video des Anrufers nicht erhalten muss).</span><span class="sxs-lookup"><span data-stu-id="c07ac-119">For example, a bot designed to handle 1:1 Teams calls may wish to both send and receive audio, but only *send* video (as it does not need to receive the video of the caller).</span></span> <span data-ttu-id="c07ac-120">Die Audio-und Video Modalitäten, die zwischen dem bot und dem Anrufer oder der Besprechung der Teams hergestellt werden, werden als **Mediensitzung**bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="c07ac-120">The set of audio and video modalities established between the bot and the Teams caller or meeting is called the **media session**.</span></span>

<span data-ttu-id="c07ac-121">Es werden zwei Arten von Video Modalitäten unterstützt: **Hauptvideo** und **videobasierte Bildschirmfreigabe**.</span><span class="sxs-lookup"><span data-stu-id="c07ac-121">Two types of video modalities are supported: **main video** and **video-based screen sharing**.</span></span> <span data-ttu-id="c07ac-122">Das Hauptvideo wird verwendet, um das Video von der Webcam eines Benutzers zu transportieren.</span><span class="sxs-lookup"><span data-stu-id="c07ac-122">Main video is used to transport the video from a user's webcam.</span></span> <span data-ttu-id="c07ac-123">Die videobasierte Bildschirmfreigabe ermöglicht einem Benutzer, seinen Bildschirm als Videostream freizugeben.</span><span class="sxs-lookup"><span data-stu-id="c07ac-123">Video-based screen sharing allows a user to share his or her screen as a video stream.</span></span> <span data-ttu-id="c07ac-124">Die Plattform ermöglicht es einem bot, *beide* Videotypen zu senden und/oder zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="c07ac-124">The platform allows a bot to send and/or receive *both* video types.</span></span>

<span data-ttu-id="c07ac-125">Wenn ein bot mit einer Microsoft Teams-Besprechung verbunden ist, kann er mehrere Haupt Videostreams gleichzeitig empfangen – bis zu 10 pro Mediensitzung.</span><span class="sxs-lookup"><span data-stu-id="c07ac-125">When joined to a Teams meeting, a bot can receive multiple main video streams simultaneously — up to 10 per media session.</span></span> <span data-ttu-id="c07ac-126">Dadurch kann der bot mehr als einen Teilnehmer an der Besprechung "anzeigen".</span><span class="sxs-lookup"><span data-stu-id="c07ac-126">This allows the bot to "see" more than one participant in the meeting.</span></span>

## <a name="frames-and-frame-rate"></a><span data-ttu-id="c07ac-127">Rahmen und Framerate</span><span class="sxs-lookup"><span data-stu-id="c07ac-127">Frames and frame rate</span></span>

<span data-ttu-id="c07ac-128">Ein Echtzeit-Medien-bot interagiert direkt mit den Audio-und Video Modalitäten einer Mediensitzung.</span><span class="sxs-lookup"><span data-stu-id="c07ac-128">A real-time media bot interacts directly with the audio and video modalities of a media session.</span></span> <span data-ttu-id="c07ac-129">Dies bedeutet, dass der bot das Senden und/oder empfangen von Medien als Sequenz von **Frames**sendet, wobei jedes Frame eine Inhaltseinheit darstellt.</span><span class="sxs-lookup"><span data-stu-id="c07ac-129">This means the bot is sending and/or receiving media as a sequence of **frames**, where each frame represents a unit of content.</span></span> <span data-ttu-id="c07ac-130">Eine Sekunde der Audiodaten kann als Sequenz von 50-Frames übertragen werden, wobei jeder Frame 20 Millisekunden (MS) – 1/50 Sekunden – des sprach Inhalts enthält.</span><span class="sxs-lookup"><span data-stu-id="c07ac-130">One second of audio may be transmitted as a sequence of 50 frames, with each frame containing 20 milliseconds (ms) —1/50th of a second — of speech content.</span></span> <span data-ttu-id="c07ac-131">Ein zweiter Video Wert kann als Sequenz von 30 Standbildern in Scheiben geschnitten werden, die jeweils für nur 33,3 ms – 1/30th einer Sekunde – angezeigt werden sollen, bevor der nächste Videorahmen angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c07ac-131">One second worth of video may be sliced as a sequence of 30 still images, each intended to be viewed for just 33.3ms — 1/30th of a second — before the next video frame is displayed.</span></span> <span data-ttu-id="c07ac-132">Die Anzahl der Frames, die pro Sekunde übermittelt oder gerendert werden, wird als **Frame Rate**bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="c07ac-132">The number of frames transmitted or rendered per second is called the **frame rate**.</span></span> <span data-ttu-id="c07ac-133">"30 bps" gibt 30 Frames pro Sekunde an.</span><span class="sxs-lookup"><span data-stu-id="c07ac-133">"30fps" indicates 30 frames per second.</span></span>

## <a name="audio-format"></a><span data-ttu-id="c07ac-134">Audio-Format</span><span class="sxs-lookup"><span data-stu-id="c07ac-134">Audio format</span></span>

<span data-ttu-id="c07ac-135">Jede Sekunde von Audio wird als 16.000- **Beispiele**dargestellt, wobei jedes Beispiel 16 Bit Daten enthält.</span><span class="sxs-lookup"><span data-stu-id="c07ac-135">Each second of audio is represented as 16,000 **samples**, with each sample containing 16-bits of data.</span></span> <span data-ttu-id="c07ac-136">Ein 20ms-audioframe enthält 320-Beispiele (640 Byte Daten).</span><span class="sxs-lookup"><span data-stu-id="c07ac-136">A 20ms audio frame contains 320 samples (640 bytes of data).</span></span>

## <a name="video-format"></a><span data-ttu-id="c07ac-137">Video Format</span><span class="sxs-lookup"><span data-stu-id="c07ac-137">Video format</span></span>

<span data-ttu-id="c07ac-138">Für Video werden verschiedene Formate unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c07ac-138">There are several formats supported for video.</span></span> <span data-ttu-id="c07ac-139">Zwei wichtige Eigenschaften eines Video Formats sind die **Framegröße** und das **Farbformat**.</span><span class="sxs-lookup"><span data-stu-id="c07ac-139">Two key properties of a video format are its **frame size** and **color format**.</span></span> <span data-ttu-id="c07ac-140">Unterstützte Framegrößen sind 640 x 360 ("360p"), 1280X720 ("720p") und 1920x1080 ("1080p").</span><span class="sxs-lookup"><span data-stu-id="c07ac-140">Supported frame sizes include 640x360 ("360p"), 1280x720 ("720p"), and 1920x1080 ("1080p").</span></span> <span data-ttu-id="c07ac-141">Unterstützte Farbformate sind NV12 (12 Bit pro Pixel) und RGB24 (24 Bits pro Pixel).</span><span class="sxs-lookup"><span data-stu-id="c07ac-141">Supported color formats include NV12 (12 bits per pixel) and RGB24 (24 bits per pixel).</span></span>

<span data-ttu-id="c07ac-142">Ein "720p"-Videorahmen enthält 921.600 Pixel (1280 Mal 720).</span><span class="sxs-lookup"><span data-stu-id="c07ac-142">A "720p" video frame contains 921,600 pixels (1280 times 720).</span></span> <span data-ttu-id="c07ac-143">Im RGB24-Farbformat wird jedes Pixel als 3 Byte (24-Bit) dargestellt, das jeweils ein Byte mit jeweils roten, grünen und blauen Farbkomponenten umfasst.</span><span class="sxs-lookup"><span data-stu-id="c07ac-143">In the RGB24 color format, each pixel is represented as 3 bytes (24-bits) comprised of one byte each of red, green, and blue color components.</span></span> <span data-ttu-id="c07ac-144">Daher erfordert ein einzelnes 720p RGB24-Videoframe 2.764.800 Bytes Daten (921.600 Pixel mal 3 Byte/Pixel).</span><span class="sxs-lookup"><span data-stu-id="c07ac-144">Therefore, a single 720p RGB24 video frame requires 2,764,800 bytes of data (921,600 pixels times 3 bytes/pixel).</span></span> <span data-ttu-id="c07ac-145">Bei einer Bildrate von 30 bps bedeutet das Senden von 720p RGB24-Videoframes das Verarbeiten von ungefähr 80 MB/s Inhalt (was durch den H. 264-Videocodec vor der Netzwerkübertragung wesentlich komprimiert wird).</span><span class="sxs-lookup"><span data-stu-id="c07ac-145">At a frame rate of 30fps, sending 720p RGB24 video frames means processing approximately 80 MB/s of content (which is substantially compressed by the H.264 video codec before network transmission).</span></span>

<span data-ttu-id="c07ac-146">Eine erweiterte Funktionalität der Plattform ermöglicht es einem bot, Video als **codierte** H. 264-Frames zu senden/empfangen.</span><span class="sxs-lookup"><span data-stu-id="c07ac-146">An advanced capability of the platform allows a bot to send/receive video as **encoded** H.264 frames.</span></span> <span data-ttu-id="c07ac-147">Dadurch werden Bots unterstützt, die ihren eigenen H. 264-Encoder/-Decoder bereitstellen, oder der Videostream muss nicht in RAW-RGB24-oder NV12-Bitmaps decodiert werden.</span><span class="sxs-lookup"><span data-stu-id="c07ac-147">This supports bots which provide their own H.264 encoder/decoder, or do not need the video stream decoded into raw RGB24 or NV12 bitmaps.</span></span>

## <a name="active-and-dominant-speakers"></a><span data-ttu-id="c07ac-148">Aktive und dominante Lautsprecher</span><span class="sxs-lookup"><span data-stu-id="c07ac-148">Active and dominant speakers</span></span>

<span data-ttu-id="c07ac-149">Wenn Sie einer Teambesprechung mit mehreren Teilnehmern beigetreten sind, kann ein bot erkennen, welche Besprechungsteilnehmer derzeit sprechen.</span><span class="sxs-lookup"><span data-stu-id="c07ac-149">When joined to a Teams meeting consisting of multiple participants, a bot can identify which meeting participants are currently speaking.</span></span> <span data-ttu-id="c07ac-150">**Aktive Lautsprecher** bestimmen, welche Teilnehmer in jedem empfangenen Audioframes gehört werden.</span><span class="sxs-lookup"><span data-stu-id="c07ac-150">**Active speakers** identify which participants are being heard in each received audio frame.</span></span> <span data-ttu-id="c07ac-151">**Dominierende Lautsprecher** bestimmen, welche Teilnehmer derzeit am aktivsten (oder "dominanten") in der Gruppenunterhaltung sind, obwohl ihre Stimme in keinem Audioframes möglicherweise nicht gehört wird.</span><span class="sxs-lookup"><span data-stu-id="c07ac-151">**Dominant speakers** identify which participants are currently most active (or "dominant") in the group conversation, even though their voice may not be heard in every audio frame.</span></span> <span data-ttu-id="c07ac-152">Die Gruppe der dominanten Lautsprecher kann sich ändern, wenn sich verschiedene Teilnehmer im Gespräch befinden.</span><span class="sxs-lookup"><span data-stu-id="c07ac-152">The set of dominant speakers can change as different participants take turns speaking.</span></span>

## <a name="video-subscription"></a><span data-ttu-id="c07ac-153">Video Abonnement</span><span class="sxs-lookup"><span data-stu-id="c07ac-153">Video subscription</span></span>

<span data-ttu-id="c07ac-154">In einem 1:1-Aufruf erhält der bot automatisch das Video des Anrufers, wenn der bot für den Empfang von Video aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="c07ac-154">In a 1:1 call, the bot will automatically receive the video of the caller if the bot is enabled to receive video.</span></span> <span data-ttu-id="c07ac-155">In einer Teams-Besprechung muss der bot der Plattform anzeigen, welche Teilnehmer er sehen möchte.</span><span class="sxs-lookup"><span data-stu-id="c07ac-155">In a Teams meeting, the bot must indicate to the platform which participants it wants to see.</span></span> <span data-ttu-id="c07ac-156">Bei einem **Video Abonnement** handelt es sich um eine Anforderung des bot, den Hauptvideo-oder Bildschirmfreigabe Inhalt eines Teilnehmers zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="c07ac-156">A **video subscription** is a request by the bot to receive a participant’s main video or screen-sharing content.</span></span> <span data-ttu-id="c07ac-157">Während die Teilnehmer an der Besprechung Ihre Unterhaltungen durchführen, kann der bot seine gewünschten Video Abonnements basierend auf Aktualisierungen des dominanten Lautsprechersatzes oder Benachrichtigungen ändern, die angeben, welcher Teilnehmer derzeit Bildschirmfreigabe ist.</span><span class="sxs-lookup"><span data-stu-id="c07ac-157">As the participants in the meeting conduct their conversation, the bot may modify its desired video subscriptions based on updates of the dominant speaker set or notifications indicating which participant is currently screen sharing.</span></span>

## <a name="developer-resources"></a><span data-ttu-id="c07ac-158">Entwicklerressourcen</span><span class="sxs-lookup"><span data-stu-id="c07ac-158">Developer resources</span></span>

<span data-ttu-id="c07ac-159">Um einen von der Anwendung gehosteten Medien-bot zu entwickeln, müssen Sie das folgende NuGet-Paket in Ihrem Visual Studio-Projekt installieren:</span><span class="sxs-lookup"><span data-stu-id="c07ac-159">To develop an application-hosted media bot, you must install the following NuGet package within your Visual Studio project:</span></span>

- [<span data-ttu-id="c07ac-160">Microsoft. Graph. Calls. Media .NET-Bibliothek</span><span class="sxs-lookup"><span data-stu-id="c07ac-160">Microsoft.Graph.Calls.Media .NET library</span></span>](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/)

<span data-ttu-id="c07ac-161">Von der Anwendung gehostete Medien-Bots benötigen .NET/C# und Windows Server, wie in [Anforderungen und Überlegungen für von Anwendungen gehostete Medien Bots](requirements-considerations-application-hosted-media-bots.md#application-hosted-media-bot-development-requires-cnet-and-windows-server)ausführlich beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c07ac-161">Application-hosted media bots require .NET/C# and Windows Server, as described in detail in [Requirements and considerations for application-hosted media bots](requirements-considerations-application-hosted-media-bots.md#application-hosted-media-bot-development-requires-cnet-and-windows-server).</span></span>
