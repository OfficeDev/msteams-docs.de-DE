---
title: Echtzeitmedienanrufe und Onlinebesprechungen mit Microsoft Teams
description: Grundlegendes zu den wichtigsten Konzepten beim Erstellen von Bots, die Audio- und Videoanrufe und Onlinebesprechungen in Echtzeit durchführen können.
ms.topic: conceptual
localization_priority: Normal
keywords: Audiostream video stream audio/video calling meeting real-time media application-hosted media service-hosted media media
ms.openlocfilehash: deedc47f67fe6848cf7f84457247d2271257e3f0
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/26/2021
ms.locfileid: "52020155"
---
# <a name="real-time-media-calls-and-meetings-with-microsoft-teams"></a><span data-ttu-id="aa097-104">Echtzeitmedienanrufe und Besprechungen mit Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="aa097-104">Real-time media calls and meetings with Microsoft Teams</span></span>

<span data-ttu-id="aa097-105">Die Echtzeitmedienplattform ermöglicht Bots die Interaktion mit Microsoft Teams-Anrufen und Besprechungen mithilfe von Sprach-, Video- und Bildschirmfreigaben in Echtzeit.</span><span class="sxs-lookup"><span data-stu-id="aa097-105">The Real-time Media Platform enables bots to interact with Microsoft Teams calls and meetings using real-time voice, video, and screen sharing.</span></span> <span data-ttu-id="aa097-106">Dies ist eine erweiterte Funktion, mit der der Bot Sprach- und Videoinhalte frame für Frame senden und empfangen kann.</span><span class="sxs-lookup"><span data-stu-id="aa097-106">This is an advanced capability that allows the bot to send and receive voice and video content frame by frame.</span></span> <span data-ttu-id="aa097-107">Der Bot hat unformatierte Zugriff auf die Medienstreams für Sprach-, Video- und Bildschirmfreigabe.</span><span class="sxs-lookup"><span data-stu-id="aa097-107">The bot has raw access to the voice, video, and screen sharing media streams.</span></span> <span data-ttu-id="aa097-108">Es gibt einfachere vom Dienst gehostete Medienbots, die für alle Medienverarbeitungen auf der Echtzeitmedienplattform beruhen.</span><span class="sxs-lookup"><span data-stu-id="aa097-108">There are simpler service-hosted media bots that rely on the Real-time Media Platform for all media processing.</span></span> <span data-ttu-id="aa097-109">Bots, die Medien selbst verarbeiten, werden als anwendungsgehostte Medienbots bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="aa097-109">Bots that process media themselves are called application-hosted media bots.</span></span>

<span data-ttu-id="aa097-110">Beispielsweise empfängt der Bot bei einem 1:1-Anruf mit einem Bot, wie der Benutzer spricht, 50 Audioframes pro Sekunde, bei denen jeder Frame 20 Millisekunden Audio enthält.</span><span class="sxs-lookup"><span data-stu-id="aa097-110">For example, in a 1:1 call with a bot, as the user speaks, the bot receives 50 audio frames per second, with each frame containing 20 milliseconds (ms) of audio.</span></span> <span data-ttu-id="aa097-111">Ein von der Anwendung gehosteter Medienbot kann die Spracherkennung in Echtzeit ausführen, wenn die Audioframes empfangen werden, anstatt auf eine Aufzeichnung warten zu müssen, nachdem der Benutzer nicht mehr gesprochen hat.</span><span class="sxs-lookup"><span data-stu-id="aa097-111">An application-hosted media bot can perform real-time speech recognition as the audio frames are received, rather than having to wait for a recording after the user has stopped speaking.</span></span> <span data-ttu-id="aa097-112">Der Bot kann auch Videos mit hoher Auflösung senden und empfangen, einschließlich videobasierter Bildschirmfreigabeinhalte.</span><span class="sxs-lookup"><span data-stu-id="aa097-112">The bot can also send and receive high-definition-resolution video, including video-based screen sharing content.</span></span>

<span data-ttu-id="aa097-113">Die Plattform bietet eine einfache socket- like-API für den Bot zum Senden und Empfangen von Medien.</span><span class="sxs-lookup"><span data-stu-id="aa097-113">The platform provides a simple socket-like API for the bot to send and receive media.</span></span> <span data-ttu-id="aa097-114">Es verarbeitet die Echtzeitcodierung und -decodierung von Audio- oder Videopaketen mithilfe von Codecs wie SILK und G.722 für Audio und H.264 für Video.</span><span class="sxs-lookup"><span data-stu-id="aa097-114">It handles the real-time encoding and decoding of audio or video packets using codecs such as SILK and G.722 for audio and H.264 for video.</span></span> <span data-ttu-id="aa097-115">Die Plattform übernimmt auch die verschlüsselungs- oder entschlüsselte Medienpaket- und Paketnetzwerkübertragung automatisch.</span><span class="sxs-lookup"><span data-stu-id="aa097-115">The platform also handles all media packet encryption or decryption and packet network transmission automatically.</span></span> <span data-ttu-id="aa097-116">Der Bot betrifft nur die tatsächlichen Audio- oder Videoinhalte.</span><span class="sxs-lookup"><span data-stu-id="aa097-116">The bot is only concerned with the actual audio or video content.</span></span> <span data-ttu-id="aa097-117">Ein Echtzeitmedienbot nimmt an 1:1-Anrufen sowie Besprechungen mit mehreren Teilnehmern teil.</span><span class="sxs-lookup"><span data-stu-id="aa097-117">A real-time media bot participates in 1:1 calls as well as meetings with multiple participants.</span></span>

## <a name="media-session"></a><span data-ttu-id="aa097-118">Mediensitzung</span><span class="sxs-lookup"><span data-stu-id="aa097-118">Media session</span></span>

<span data-ttu-id="aa097-119">Wenn ein Echtzeitmedienbot einen eingehenden Anruf beantwortet oder einer Teams-Besprechung beitritt, muss er deklarieren, welche Modalitäten er unterstützen muss.</span><span class="sxs-lookup"><span data-stu-id="aa097-119">When a real-time media bot answers an incoming call or joins a Teams meeting, it must declare what modalities it must support.</span></span> <span data-ttu-id="aa097-120">Für jede unterstützte Modalität gibt der Bot an, ob er Medien senden und empfangen, nur empfangen oder nur senden kann.</span><span class="sxs-lookup"><span data-stu-id="aa097-120">For each supported modality, the bot declares whether it can send and receive media, receive only, or send only.</span></span> <span data-ttu-id="aa097-121">Beispielsweise muss ein Bot, der 1:1-Teams-Anrufe verarbeiten soll, Audio senden und empfangen, aber nur Video senden, da das Video des Anrufers nicht empfangen werden muss.</span><span class="sxs-lookup"><span data-stu-id="aa097-121">For example, a bot designed to handle 1:1 Teams calls, requires to both send and receive audio, but only send video as it does not require to receive the video of the caller.</span></span> <span data-ttu-id="aa097-122">Der Satz von Audio- und Videomodalitäten, die zwischen dem Bot und dem Anrufer oder der Besprechung von Teams eingerichtet wurden, wird als Mediensitzung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="aa097-122">The set of audio and video modalities established between the bot and the Teams caller or meeting is called the media session.</span></span>

<span data-ttu-id="aa097-123">Es werden zwei Arten von Videomodalitäten unterstützt, hauptvideo- und videobasierte Bildschirmfreigabe.</span><span class="sxs-lookup"><span data-stu-id="aa097-123">Two types of video modalities are supported, main video and video-based screen sharing.</span></span> <span data-ttu-id="aa097-124">Das Hauptvideo wird verwendet, um das Video von der Webcam eines Benutzers zu transportieren.</span><span class="sxs-lookup"><span data-stu-id="aa097-124">The main video is used to transport the video from a user's webcam.</span></span> <span data-ttu-id="aa097-125">Die videobasierte Bildschirmfreigabe ermöglicht es einem Benutzer, seinen Bildschirm als Videostream zu teilen.</span><span class="sxs-lookup"><span data-stu-id="aa097-125">The video-based screen sharing allows a user to share his or her screen as a video stream.</span></span> <span data-ttu-id="aa097-126">Die Plattform ermöglicht es einem Bot, beide Videotypen zu senden und zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="aa097-126">The platform allows a bot to send and receive both video types.</span></span>

<span data-ttu-id="aa097-127">Wenn ein Bot einer Teams-Besprechung beigetreten ist, kann er mehrere Hauptvideostreams gleichzeitig bis zu zehn pro Mediensitzung empfangen.</span><span class="sxs-lookup"><span data-stu-id="aa097-127">When joined to a Teams meeting, a bot can receive multiple main video streams simultaneously up to ten per media session.</span></span> <span data-ttu-id="aa097-128">Dadurch kann der Bot mehr als einen Teilnehmer an der Besprechung sehen.</span><span class="sxs-lookup"><span data-stu-id="aa097-128">This allows the bot to see more than one participant in the meeting.</span></span>

<span data-ttu-id="aa097-129">Der nächste Abschnitt enthält Details zum Senden und Empfangen von Medien als Sequenz von Frames.</span><span class="sxs-lookup"><span data-stu-id="aa097-129">The next section provides details about the bot sending and receiving media as a sequence of frames.</span></span>

## <a name="frames-and-frame-rate"></a><span data-ttu-id="aa097-130">Frames und Framerate</span><span class="sxs-lookup"><span data-stu-id="aa097-130">Frames and frame rate</span></span>

<span data-ttu-id="aa097-131">Ein Echtzeitmedienbot interagiert direkt mit den Audio- und Videomodalitäten einer Mediensitzung.</span><span class="sxs-lookup"><span data-stu-id="aa097-131">A real-time media bot interacts directly with the audio and video modalities of a media session.</span></span> <span data-ttu-id="aa097-132">Dies bedeutet, dass der Bot Medien als Sequenz von Frames sendet und empfängt, wobei jeder Frame eine Inhaltseinheit darstellt.</span><span class="sxs-lookup"><span data-stu-id="aa097-132">This means the bot is sending and receiving media as a sequence of frames, where each frame represents a unit of content.</span></span> <span data-ttu-id="aa097-133">Eine Sekunde Audio wird als Sequenz von 50 Frames übertragen, jeder Frame enthält 20 ms, d. h. 1/50 einer Sekunde Sprachinhalt.</span><span class="sxs-lookup"><span data-stu-id="aa097-133">One second of audio is transmitted as a sequence of 50 frames, with each frame containing 20 ms that is 1/50th of a second of speech content.</span></span> <span data-ttu-id="aa097-134">Eine Sekunde des Videos wird als Sequenz von 30 Bildern übertragen, die jeweils nur für 33,3 ms angezeigt werden sollen, d. h. 1/30 sekunden, bevor der nächste Videoframe angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="aa097-134">One second of video is transmitted as a sequence of 30 still images, each intended to be viewed for just 33.3 ms that is 1/30th of a second before the next video frame is displayed.</span></span> <span data-ttu-id="aa097-135">Die Anzahl der pro Sekunde übertragenen oder gerenderten Frames wird als Framerate bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="aa097-135">The number of frames transmitted or rendered per second is called the frame rate.</span></span>

<span data-ttu-id="aa097-136">Der nächste Abschnitt enthält Details zum Audio- und Videoformat, das in Echtzeitmedienanrufen und Besprechungen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="aa097-136">The next section provides details about the audio and video format used in real-time media calls and meetings.</span></span>

## <a name="audio-and-video-format"></a><span data-ttu-id="aa097-137">Audio- und Videoformat</span><span class="sxs-lookup"><span data-stu-id="aa097-137">Audio and video format</span></span>

<span data-ttu-id="aa097-138">Im Audioformat wird jede Sekunde des Audios als 16.000 Samples dargestellt, jedes Beispiel enthält 16-Bit-Daten.</span><span class="sxs-lookup"><span data-stu-id="aa097-138">In audio format, each second of audio is represented as 16,000 samples, with each sample containing 16-bits of data.</span></span> <span data-ttu-id="aa097-139">Ein 20 ms-Audioframe enthält 320 Samples, die 640 Byte Daten sind.</span><span class="sxs-lookup"><span data-stu-id="aa097-139">A 20 ms audio frame contains 320 samples that is 640 bytes of data.</span></span>

<span data-ttu-id="aa097-140">Im Videoformat werden mehrere Formate unterstützt.</span><span class="sxs-lookup"><span data-stu-id="aa097-140">In video format, several formats are supported.</span></span> <span data-ttu-id="aa097-141">Zwei wichtige Eigenschaften eines Videoformats sind die Framegröße und das Farbformat.</span><span class="sxs-lookup"><span data-stu-id="aa097-141">Two key properties of a video format are its frame size and color format.</span></span> <span data-ttu-id="aa097-142">Unterstützte Framegrößen sind 640 x 360, d. h. 360 Pixel, 1280 x 720 Pixel und 1920 x 1080 Pixel.</span><span class="sxs-lookup"><span data-stu-id="aa097-142">Supported frame sizes include 640x360 that is 360 pixels, 1280x720 that is 720 pixels, and 1920x1080 that is 1080 pixels.</span></span> <span data-ttu-id="aa097-143">Unterstützte Farbformate sind NV12 mit 12 Bit pro Pixel und RGB24 mit 24 Bit pro Pixel.</span><span class="sxs-lookup"><span data-stu-id="aa097-143">Supported color formats include NV12 that is 12 bits per pixel and RGB24 that is 24 bits per pixel.</span></span>

<span data-ttu-id="aa097-144">Ein 720p-Videoframe enthält 921.600 Pixel, also 1280 mal 720 Pixel.</span><span class="sxs-lookup"><span data-stu-id="aa097-144">A 720p video frame contains 921,600 pixels that is 1280 times 720.</span></span> <span data-ttu-id="aa097-145">Im RGB24-Farbformat wird jedes Pixel als 3 Byte dargestellt, d. h. 24 Bit, die jeweils ein Byte aus roten, grünen und blauen Farbkomponenten enthalten.</span><span class="sxs-lookup"><span data-stu-id="aa097-145">In the RGB24 color format, each pixel is represented as 3 bytes that is 24-bits comprised of one byte each of red, green, and blue color components.</span></span> <span data-ttu-id="aa097-146">Daher erfordert ein einzelner 720p RGB24-Videoframe 2.764.800 Byte Daten, also 921.600 Pixel mal 3 Byte pro Pixel.</span><span class="sxs-lookup"><span data-stu-id="aa097-146">Therefore, a single 720p RGB24 video frame requires 2,764,800 bytes of data that is 921,600 pixels times 3 bytes per pixel.</span></span> <span data-ttu-id="aa097-147">Bei einer Framerate von 30 fps bedeutet das Senden von 720p RGB24-Videoframes die Verarbeitung von ungefähr 80 Megabyte pro Sekunde des Inhalts, der vom H.264-Videocodec vor der Netzwerkübertragung erheblich komprimiert wird.</span><span class="sxs-lookup"><span data-stu-id="aa097-147">At a frame rate of 30 fps, sending 720p RGB24 video frames means processing approximately 80 megabytes per second of content, which is substantially compressed by the H.264 video codec before network transmission.</span></span>

<span data-ttu-id="aa097-148">Eine erweiterte Funktion der Plattform ermöglicht es einem Bot, Video als codierte H.264-Frames zu senden oder zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="aa097-148">An advanced capability of the platform allows a bot to send or receive video as encoded H.264 frames.</span></span> <span data-ttu-id="aa097-149">Dies unterstützt Bots, die einen eigenen H.264-Encoder oder Decoder bereitstellen oder den Videodatenstrom nicht in unformatierte RGB24- oder NV12-Bitmaps decodieren müssen.</span><span class="sxs-lookup"><span data-stu-id="aa097-149">This supports bots which provide their own H.264 encoder or decoder, or do not require the video stream decoded into raw RGB24 or NV12 bitmaps.</span></span>

<span data-ttu-id="aa097-150">Der nächste Abschnitt enthält Details dazu, welche Besprechungsteilnehmer sprechen, die aktive und dominante Referenten sind.</span><span class="sxs-lookup"><span data-stu-id="aa097-150">The next section provides details about which meeting participants are speaking that is which are active and dominant speakers.</span></span>

## <a name="active-and-dominant-speakers"></a><span data-ttu-id="aa097-151">Aktive und dominante Lautsprecher</span><span class="sxs-lookup"><span data-stu-id="aa097-151">Active and dominant speakers</span></span>

<span data-ttu-id="aa097-152">Wenn ein Bot einer Teams-Besprechung mit mehreren Teilnehmern beigetreten ist, kann er ermitteln, welche Besprechungsteilnehmer gerade sprechen.</span><span class="sxs-lookup"><span data-stu-id="aa097-152">When joined to a Teams meeting consisting of multiple participants, a bot can identify which meeting participants are currently speaking.</span></span> <span data-ttu-id="aa097-153">Aktive Lautsprecher identifizieren, welche Teilnehmer in jedem empfangenen Audioframe gehört werden.</span><span class="sxs-lookup"><span data-stu-id="aa097-153">Active speakers identify which participants are being heard in each received audio frame.</span></span> <span data-ttu-id="aa097-154">Dominante Lautsprecher identifizieren, welche Teilnehmer derzeit am aktivsten oder dominantesten in der Gruppenbesprechung sind, auch wenn ihre Stimme nicht in jedem Audioframe gehört wird.</span><span class="sxs-lookup"><span data-stu-id="aa097-154">Dominant speakers identify which participants are currently most active or dominant in the group conversation, even though their voice is not heard in every audio frame.</span></span> <span data-ttu-id="aa097-155">Die Gruppe dominanter Lautsprecher kann sich ändern, wenn unterschiedliche Teilnehmer abwechselnd sprechen.</span><span class="sxs-lookup"><span data-stu-id="aa097-155">The set of dominant speakers can change as different participants take turns speaking.</span></span>

<span data-ttu-id="aa097-156">Der nächste Abschnitt enthält Details zu Videoabonnementanforderungen, die von einem Bot vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="aa097-156">The next section provides details about video subscription requests made by a bot.</span></span>

## <a name="video-subscription"></a><span data-ttu-id="aa097-157">Videoabonnement</span><span class="sxs-lookup"><span data-stu-id="aa097-157">Video subscription</span></span>

<span data-ttu-id="aa097-158">Bei einem 1:1-Anruf empfängt der Bot automatisch das Video des Anrufers, wenn der Bot für den Empfang des Videos aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="aa097-158">In a 1:1 call, the bot automatically receives the video of the caller if the bot is enabled to receive the video.</span></span> <span data-ttu-id="aa097-159">In einer Teams-Besprechung muss der Bot der Plattform angeben, welche Teilnehmer er sehen möchte.</span><span class="sxs-lookup"><span data-stu-id="aa097-159">In a Teams meeting, the bot must indicate to the platform which participants it wants to see.</span></span> <span data-ttu-id="aa097-160">Ein Videoabonnement ist eine Anforderung des Bots, die Hauptvideo- oder Bildschirmfreigabeinhalte eines Teilnehmers zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="aa097-160">A video subscription is a request by the bot to receive a participant’s main video or screen-sharing content.</span></span> <span data-ttu-id="aa097-161">Während die Teilnehmer der Besprechung ihre Unterhaltung führen, ändert der Bot seine gewünschten Videoabonnements basierend auf Updates des dominanten Lautsprechersets oder Benachrichtigungen, die angeben, welcher Teilnehmer gerade bildschirmfreigaben.</span><span class="sxs-lookup"><span data-stu-id="aa097-161">As the participants in the meeting conduct their conversation, the bot modifies its desired video subscriptions based on updates of the dominant speaker set or notifications indicating which participant is currently screen sharing.</span></span>

<span data-ttu-id="aa097-162">Der nächste Abschnitt enthält Details dazu, was Sie installieren müssen, und die Anforderungen für die Entwicklung eines vom Anwendungshosting gehosteten Medienbots.</span><span class="sxs-lookup"><span data-stu-id="aa097-162">The next section provides details about what you must install and the requirements to develop an application-hosted media bot.</span></span>

## <a name="developer-resources"></a><span data-ttu-id="aa097-163">Entwicklerressourcen</span><span class="sxs-lookup"><span data-stu-id="aa097-163">Developer resources</span></span>

<span data-ttu-id="aa097-164">Zum Entwickeln eines von einer Anwendung gehosteten Medienbots müssen Sie das [Microsoft.Graph.Calls.Media](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) .NET-Bibliotheks-NuGet-Paket in Ihrem Visual Studio installieren.</span><span class="sxs-lookup"><span data-stu-id="aa097-164">To develop an application-hosted media bot, you must install the [Microsoft.Graph.Calls.Media .NET library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) NuGet package within your Visual Studio project.</span></span>

<span data-ttu-id="aa097-165">Anwendungsgehostte Medienbots erfordern .NET oder C# und Windows Server.</span><span class="sxs-lookup"><span data-stu-id="aa097-165">Application-hosted media bots require .NET or C# and Windows Server.</span></span> <span data-ttu-id="aa097-166">Weitere Informationen finden Sie unter [Anforderungen und Überlegungen für anwendungsgehostte Medienbots](requirements-considerations-application-hosted-media-bots.md#c-or-net-and-windows-server-for-development).</span><span class="sxs-lookup"><span data-stu-id="aa097-166">For more information, see [requirements and considerations for application-hosted media bots](requirements-considerations-application-hosted-media-bots.md#c-or-net-and-windows-server-for-development).</span></span>

## <a name="next-step"></a><span data-ttu-id="aa097-167">Nächster Schritt</span><span class="sxs-lookup"><span data-stu-id="aa097-167">Next step</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="aa097-168">Registrieren eines anrufenden Bots</span><span class="sxs-lookup"><span data-stu-id="aa097-168">Register a calling bot</span></span>](~/bots/calls-and-meetings/registering-calling-bot.md)
