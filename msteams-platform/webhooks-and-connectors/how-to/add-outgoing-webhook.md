---
title: Hinzufügen von benutzerdefinierten Bots Microsoft Teams mit ausgehenden Webhooks
description: beschreibt das Hinzufügen eines ausgehenden Webhooks
ms.topic: conceptual
ms.author: lajanuar
localization_priority: Normal
keywords: Teams tabs outgoing webhook actionable message verify webhook
ms.openlocfilehash: a5a0cdfc9080ac4567f438b6fb6fd0671df8c19f
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566530"
---
# <a name="add-custom-bots-to-teams-with-outgoing-webhooks"></a><span data-ttu-id="87c1a-104">Hinzufügen von benutzerdefinierten Bots zu Teams mit ausgehenden Webhooks</span><span class="sxs-lookup"><span data-stu-id="87c1a-104">Add custom bots to Teams with outgoing webhooks</span></span>

## <a name="outgoing-webhooks-in-teams"></a><span data-ttu-id="87c1a-105">Ausgehende Webhooks in Teams</span><span class="sxs-lookup"><span data-stu-id="87c1a-105">Outgoing webhooks in Teams</span></span>

<span data-ttu-id="87c1a-106">Webhooks sind eine hervorragende Möglichkeit für Teams integration in externe Apps.</span><span class="sxs-lookup"><span data-stu-id="87c1a-106">Webhooks are an eminent way for Teams to integrate with external apps.</span></span> <span data-ttu-id="87c1a-107">Ein Webhook ist im Wesentlichen eine POST-Anforderung, die an eine Rückruf-URL gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="87c1a-107">A webhook is essentially a POST request sent to a callback URL.</span></span> <span data-ttu-id="87c1a-108">Ausgehende Webhooks ermöglichen Benutzern das Senden von Nachrichten an Ihren Webdienst, ohne den vollständigen Prozess des Erstellens von Bots über die [Microsoft Bot Framework.](https://dev.botframework.com/)</span><span class="sxs-lookup"><span data-stu-id="87c1a-108">Outgoing webhooks allow users to send messages to your web service without going through the full process of creating bots via the [Microsoft Bot Framework](https://dev.botframework.com/).</span></span>

<span data-ttu-id="87c1a-109">Ausgehender Webhook sendet Daten aus Teams an jeden ausgewählten Dienst, der eine JSON-Nutzlast akzeptieren kann.</span><span class="sxs-lookup"><span data-stu-id="87c1a-109">Outgoing webhook sends data from Teams to any chosen service capable of accepting a JSON payload.</span></span> <span data-ttu-id="87c1a-110">Nach dem Hinzufügen der ausgehenden Webhooks zu einem Team fungiert es als Bot und sucht mithilfe von Erwähnung nach Nachrichten in **\@ Kanälen.**</span><span class="sxs-lookup"><span data-stu-id="87c1a-110">After adding the outgoing webhooks to a team, it acts as a bot and looks for messages in channels using **\@mention**.</span></span> <span data-ttu-id="87c1a-111">Es sendet Benachrichtigungen an externe Webdienste und antwortet mit reichhaltigen Nachrichten, die Karten und Bilder enthalten.</span><span class="sxs-lookup"><span data-stu-id="87c1a-111">It sends notifications to external web services and responds with rich messages, which include cards and images.</span></span>

## <a name="outgoing-webhook-key-features"></a><span data-ttu-id="87c1a-112">Wichtige Funktionen für ausgehenden Webhook</span><span class="sxs-lookup"><span data-stu-id="87c1a-112">Outgoing webhook key features</span></span>

| <span data-ttu-id="87c1a-113">Feature</span><span class="sxs-lookup"><span data-stu-id="87c1a-113">Feature</span></span> | <span data-ttu-id="87c1a-114">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="87c1a-114">Description</span></span> |
| ------- | ----------- |
| <span data-ttu-id="87c1a-115">Bereichsierte Konfiguration</span><span class="sxs-lookup"><span data-stu-id="87c1a-115">Scoped configuration</span></span>| <span data-ttu-id="87c1a-116">Webhooks sind auf Teamebene begrenzt.</span><span class="sxs-lookup"><span data-stu-id="87c1a-116">Webhooks are scoped at the team level.</span></span> <span data-ttu-id="87c1a-117">Sie müssen den Einrichtungsprozess für jedes Team durchgehen, in dem Sie Ihren ausgehenden Webhook hinzufügen möchten.</span><span class="sxs-lookup"><span data-stu-id="87c1a-117">You must go through the setup process for each team where you want to add your outgoing webhook.</span></span> |
| <span data-ttu-id="87c1a-118">Reaktives Messaging</span><span class="sxs-lookup"><span data-stu-id="87c1a-118">Reactive messaging</span></span>| <span data-ttu-id="87c1a-119">Benutzer müssen @mention verwenden, damit der Webhook Nachrichten empfangen kann.</span><span class="sxs-lookup"><span data-stu-id="87c1a-119">Users must use @mention for the webhook to receive messages.</span></span> <span data-ttu-id="87c1a-120">Derzeit können Benutzer einen ausgehenden Webhook nur in öffentlichen Kanälen und nicht im persönlichen oder privaten Bereich senden.</span><span class="sxs-lookup"><span data-stu-id="87c1a-120">Currently, users can only message an outgoing webhook in public channels and not within the personal or private scope.</span></span> |
|<span data-ttu-id="87c1a-121">Standardmäßiger HTTP-Nachrichtenaustausch</span><span class="sxs-lookup"><span data-stu-id="87c1a-121">Standard HTTP message exchange</span></span>|<span data-ttu-id="87c1a-122">Antworten werden in der gleichen Kette wie die ursprüngliche Anforderungsnachricht angezeigt und können beliebige Nachrichteninhalte des Botframework enthalten, z. B. Rich Text, Bilder, Karten und Emojis.</span><span class="sxs-lookup"><span data-stu-id="87c1a-122">Responses appear in the same chain as the original request message and can include any bot framework message content, for example, rich text, images, cards, and emojis.</span></span> <span data-ttu-id="87c1a-123">Obwohl ausgehende Webhooks Karten verwenden können, können sie keine Kartenaktionen außer `openURL` verwenden.</span><span class="sxs-lookup"><span data-stu-id="87c1a-123">Although outgoing webhooks can use cards, they cannot use any card actions except for `openURL`.</span></span>|
| <span data-ttu-id="87c1a-124">Teams Unterstützung der API-Methode</span><span class="sxs-lookup"><span data-stu-id="87c1a-124">Teams API method support</span></span>|<span data-ttu-id="87c1a-125">Ausgehender Webhook sendet einen HTTP POST an einen Webdienst und verarbeiten eine Antwort zurück.</span><span class="sxs-lookup"><span data-stu-id="87c1a-125">Outgoing webhook sends an HTTP POST to a web service and process a response back.</span></span> <span data-ttu-id="87c1a-126">Sie können nicht auf andere APIs zugreifen, z. B. das Abrufen der Liste oder Liste der Kanäle in einem Team.</span><span class="sxs-lookup"><span data-stu-id="87c1a-126">They cannot access any other APIs like retrieve the roster or list of channels in a team.</span></span>|

## <a name="creating-actionable-messages"></a><span data-ttu-id="87c1a-127">Erstellen von Nachrichten mit Aktionen</span><span class="sxs-lookup"><span data-stu-id="87c1a-127">Creating actionable messages</span></span>

<span data-ttu-id="87c1a-128">Die Connectorkarten enthalten drei sichtbare Schaltflächen auf der Karte.</span><span class="sxs-lookup"><span data-stu-id="87c1a-128">The connector cards include three visible buttons on the card.</span></span> <span data-ttu-id="87c1a-129">Jede Schaltfläche wird in der `potentialAction` Eigenschaft der Nachricht mithilfe von Aktionen `ActionCard` definiert.</span><span class="sxs-lookup"><span data-stu-id="87c1a-129">Each button is defined in the `potentialAction` property of the message by using `ActionCard` actions.</span></span> <span data-ttu-id="87c1a-130">Jede `ActionCard` enthält einen Eingabetyp, ein Textfeld, eine Datumsauswahl oder eine Liste mit mehreren Auswahlmöglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="87c1a-130">Each `ActionCard` contains an input type; a text field, a date picker, or a multi-choice list.</span></span> <span data-ttu-id="87c1a-131">Jeder `ActionCard` Aktion ist eine Aktion zugeordnet, z. B. `HttpPOST` .</span><span class="sxs-lookup"><span data-stu-id="87c1a-131">Each `ActionCard` action has an associated action, for example, `HttpPOST`.</span></span>

<span data-ttu-id="87c1a-132">Connectorkarten unterstützen drei Arten von Aktionen:</span><span class="sxs-lookup"><span data-stu-id="87c1a-132">Connector cards support three types of actions:</span></span>

| <span data-ttu-id="87c1a-133">Aktion</span><span class="sxs-lookup"><span data-stu-id="87c1a-133">Action</span></span> | <span data-ttu-id="87c1a-134">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="87c1a-134">Description</span></span> |
| ------- | ----------- |
| `ActionCard` |<span data-ttu-id="87c1a-135">Stellt einen oder mehrere Eingabetypen und zugeordnete Aktionen vor.</span><span class="sxs-lookup"><span data-stu-id="87c1a-135">Presents one or more input types and associated actions.</span></span>|
| `HttpPOST` | <span data-ttu-id="87c1a-136">Sendet eine POST-Anforderung an eine URL.</span><span class="sxs-lookup"><span data-stu-id="87c1a-136">Sends a POST request to a URL.</span></span> |
| `OpenUri` |  <span data-ttu-id="87c1a-137">Öffnet einen URI in einem separaten Browser oder einer separaten App und richtet sich optional an unterschiedliche URIs basierend auf Betriebssystemen.</span><span class="sxs-lookup"><span data-stu-id="87c1a-137">Opens a URI in a separate browser or app, optionally targets different URIs based on operating systems.</span></span>|

<span data-ttu-id="87c1a-138">Die `ActionCard`-Aktion unterstützt drei Eingabetypen:</span><span class="sxs-lookup"><span data-stu-id="87c1a-138">The `ActionCard` action supports three input types:</span></span>

| <span data-ttu-id="87c1a-139">Eingabetyp</span><span class="sxs-lookup"><span data-stu-id="87c1a-139">Input type</span></span> | <span data-ttu-id="87c1a-140">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="87c1a-140">Description</span></span> |
| ------- | ----------- |
| `TextInput` | <span data-ttu-id="87c1a-141">Ein ein- oder mehrzeilenlanges Textfeld mit optionaler Längenbegrenzung.</span><span class="sxs-lookup"><span data-stu-id="87c1a-141">A single-line or multiline text field with an optional length limit.</span></span> |
| `DateInput` | <span data-ttu-id="87c1a-142">Eine Datumsauswahl mit optionaler Zeitauswahl.</span><span class="sxs-lookup"><span data-stu-id="87c1a-142">A date selector with an optional time selector.</span></span> |
| `MultichoiceInput` | <span data-ttu-id="87c1a-143">Eine angegebene Auswahlliste, die entweder eine einzelne Auswahl oder mehrere Auswahlmöglichkeiten bietet.</span><span class="sxs-lookup"><span data-stu-id="87c1a-143">A specified list of choices, offering either a single selection or multiple selections.</span></span>|

<span data-ttu-id="87c1a-144">`MultichoiceInput` unterstützt eine Eigenschaft, die die Anzeige einer vollständig erweiterten `style` Liste steuert.</span><span class="sxs-lookup"><span data-stu-id="87c1a-144">`MultichoiceInput` supports a `style` property that controls the display of a fully expanded list.</span></span> <span data-ttu-id="87c1a-145">Der Standardwert von `style` hängt vom Wert `isMultiSelect` ab.</span><span class="sxs-lookup"><span data-stu-id="87c1a-145">The default value of `style` depends on the `isMultiSelect` value.</span></span>

| <span data-ttu-id="87c1a-146">`isMultiSelect` value</span><span class="sxs-lookup"><span data-stu-id="87c1a-146">`isMultiSelect` value</span></span>  | <span data-ttu-id="87c1a-147">`style` Standardwert</span><span class="sxs-lookup"><span data-stu-id="87c1a-147">`style` default value</span></span>  |
| --- | --- |
| <span data-ttu-id="87c1a-148">`false` oder nicht angegeben</span><span class="sxs-lookup"><span data-stu-id="87c1a-148">`false` or not specified</span></span> | <span data-ttu-id="87c1a-149">Die Standardformatvorlage ist `compact`</span><span class="sxs-lookup"><span data-stu-id="87c1a-149">The default style is `compact`</span></span>|
| `true` | <span data-ttu-id="87c1a-150">Die Standardformatvorlage ist `expanded`</span><span class="sxs-lookup"><span data-stu-id="87c1a-150">The default style is `expanded`</span></span> |

> [!NOTE]
> * <span data-ttu-id="87c1a-151">Geben Sie sowohl als auch ein, wenn die Liste mit mehreren Auswahlen in einer `"isMultiSelect": true` `"style": true` kompakten Formatvorlage angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="87c1a-151">Enter both `"isMultiSelect": true` and `"style": true`, if you want the multi-select list to be displayed in a compact style.</span></span>
> * <span data-ttu-id="87c1a-152">Die Auswahl für die Eigenschaft in Teams ist identisch mit der Auswahl `compact` für die Eigenschaft in Microsoft `style` `normal` `style` Outlook.</span><span class="sxs-lookup"><span data-stu-id="87c1a-152">Selecting `compact` for the `style` property in Teams is the same as selecting `normal` for the `style` property in Microsoft Outlook.</span></span>
> * <span data-ttu-id="87c1a-153">Webhooks unterstützen nur Office 365 Nachrichten-Back-Karten und adaptive Karten.</span><span class="sxs-lookup"><span data-stu-id="87c1a-153">Webhooks support only Office 365 message back cards and adaptive cards.</span></span>

<span data-ttu-id="87c1a-154">Weitere Informationen zu Connectorkartenaktionen finden Sie unter **[Aktionen](/outlook/actionable-messages/card-reference#actions)** in der Referenz zur Nachrichtenkarte mit Aktionen.</span><span class="sxs-lookup"><span data-stu-id="87c1a-154">For all other details about connector card actions, see **[Actions](/outlook/actionable-messages/card-reference#actions)** in the actionable message card reference.</span></span>

## <a name="adding-outgoing-webhooks-to-your-app"></a><span data-ttu-id="87c1a-155">Hinzufügen ausgehender Webhooks zu Ihrer App</span><span class="sxs-lookup"><span data-stu-id="87c1a-155">Adding outgoing webhooks to your app</span></span>

<span data-ttu-id="87c1a-156">**Szenario**: Push change status notifications on a Teams channel database server to your app.</span><span class="sxs-lookup"><span data-stu-id="87c1a-156">**Scenario**: Push change status notifications on a Teams channel database server to your app.</span></span>  
<span data-ttu-id="87c1a-157">**Beispiel:** Sie verfügen über eine Business-Of-Business-App, die alle an Mitarbeiterdatensätzen vorgenommenen CRUD-Vorgänge verfolgt, indem Teams Hr-Benutzer über einen Office 365 kanalen.</span><span class="sxs-lookup"><span data-stu-id="87c1a-157">**Example**: You have a line-of-business app that tracks all CRUD operations made to employee records by Teams channel HR users across an Office 365 tenancy.</span></span>

### <a name="1-create-a-url-on-your-apps-server-to-accept-and-process-a-post-request-with-a-json-payload"></a><span data-ttu-id="87c1a-158">1. Erstellen sie eine URL auf dem Server Ihrer App, um eine POST-Anforderung mit einer JSON-Nutzlast zu akzeptieren und zu verarbeiten</span><span class="sxs-lookup"><span data-stu-id="87c1a-158">1. Create a URL on your app's server to accept and process a POST request with a JSON payload</span></span>

<span data-ttu-id="87c1a-159">Ihr Dienst empfängt Nachrichten in einem standardmäßigen Azure-Botdienst-Messagingschema.</span><span class="sxs-lookup"><span data-stu-id="87c1a-159">Your service receives messages in a standard Azure bot service messaging schema.</span></span> <span data-ttu-id="87c1a-160">Der Bot-Framework-Connector ist ein RESTful-Dienst, mit dem Ihr Dienst den Austausch von JSON-formatierten Nachrichten über HTTPS-Protokolle verarbeiten kann, wie in der [Azure Bot Service API dokumentiert.](/bot-framework/rest-api/bot-framework-rest-connector-api-reference)</span><span class="sxs-lookup"><span data-stu-id="87c1a-160">The bot framework connector is a RESTful service that empowers your service to process the interchange of JSON formatted messages via HTTPS protocols as documented in the [Azure Bot Service API](/bot-framework/rest-api/bot-framework-rest-connector-api-reference).</span></span> <span data-ttu-id="87c1a-161">Alternativ können Sie dem [Microsoft Bot Framework SDK] folgen, um Nachrichten zu verarbeiten und zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="87c1a-161">Alternatively, you can follow the [Microsoft Bot Framework SDK] to process and parse messages.</span></span> <span data-ttu-id="87c1a-162">Siehe auch [Informationen zu Azure Bot Service](/azure/bot-service/bot-service-overview-introduction).</span><span class="sxs-lookup"><span data-stu-id="87c1a-162">See also [About Azure Bot Service](/azure/bot-service/bot-service-overview-introduction).</span></span>


<span data-ttu-id="87c1a-163">Ausgehende Webhooks sind auf die Ebene `team` begrenzt und für alle Teammitglieder sichtbar.</span><span class="sxs-lookup"><span data-stu-id="87c1a-163">Outgoing webhooks are scoped to the `team` level and are visible to all the team members.</span></span> <span data-ttu-id="87c1a-164">Genau wie ein Bot müssen Benutzer **\@ den** Namen des ausgehenden Webhooks erwähnen, um ihn im Kanal aufrufen zu können.</span><span class="sxs-lookup"><span data-stu-id="87c1a-164">Just like a bot, users need to **\@mention** the name of the outgoing webhook to invoke it in the channel.</span></span>

### <a name="2-create-a-method-to-verify-the-outgoing-webhook-hmac-token"></a><span data-ttu-id="87c1a-165">2. Erstellen einer Methode zum Überprüfen des ausgehenden Webhook-HMAC-Tokens</span><span class="sxs-lookup"><span data-stu-id="87c1a-165">2. Create a method to verify the outgoing webhook HMAC token</span></span>

#### <a name="hmac-signature-for-testing-with-code-example"></a><span data-ttu-id="87c1a-166">HMAC-Signatur zum Testen mit Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="87c1a-166">HMAC signature for testing with code example</span></span>

<span data-ttu-id="87c1a-167">Using example of inbound message and id: "contoso" of SigningKeyDictionary of {"contoso", "vqF0En+Z0ucuRTM/01o2GuhMH3hKKk/N2bOmlM31zaA=" }.</span><span class="sxs-lookup"><span data-stu-id="87c1a-167">Using example of inbound message and id: "contoso" of SigningKeyDictionary of {"contoso", "vqF0En+Z0ucuRTM/01o2GuhMH3hKKk/N2bOmlM31zaA=" }.</span></span>

<span data-ttu-id="87c1a-168">Verwenden Sie den Wert "HMAC 03TCao0i55H1eVKUusZOTZRjtvYTs+mO41mPL+R1e1U=" in der Autorisierung des Anforderungsheaders.</span><span class="sxs-lookup"><span data-stu-id="87c1a-168">Use the value "HMAC 03TCao0i55H1eVKUusZOTZRjtvYTs+mO41mPL+R1e1U=" in the authorization of request header.</span></span>

<span data-ttu-id="87c1a-169">Um sicherzustellen, dass Ihr Dienst nur Anrufe von tatsächlichen Teams empfängt, stellt Teams einen HMAC-Code im HTTP-Header `hmac` zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="87c1a-169">To ensure that your service is receiving calls only from actual Teams clients, Teams provides an HMAC code in the HTTP `hmac` header.</span></span> <span data-ttu-id="87c1a-170">Der Code wurde immer in Ihr Authentifizierungsprotokoll aufgenommen.</span><span class="sxs-lookup"><span data-stu-id="87c1a-170">Always included the code in your authentication protocol.</span></span>

<span data-ttu-id="87c1a-171">Ihr Code muss immer die in der Anforderung enthaltene HMAC-Signatur überprüfen:</span><span class="sxs-lookup"><span data-stu-id="87c1a-171">Your code must always validate the HMAC signature included in the request:</span></span>

* <span data-ttu-id="87c1a-172">Generieren Sie das HMAC-Token aus dem Anforderungstext der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="87c1a-172">Generate the HMAC token from the request body of the message.</span></span> <span data-ttu-id="87c1a-173">Es gibt Standardbibliotheken, um dies auf den meisten Plattformen zu tun (siehe [Crypto](https://nodejs.org/api/crypto.html#crypto_crypto) for Node.js oder siehe [Teams Webhook Sample](https://github.com/OfficeDev/microsoft-teams-sample-outgoing-webhook/blob/23eb61da5a18634d51c5247944843da9abed01b6/WebhookSampleBot/Models/AuthProvider.cs) for C \# ).</span><span class="sxs-lookup"><span data-stu-id="87c1a-173">There are standard libraries to do this on most platforms (see [Crypto](https://nodejs.org/api/crypto.html#crypto_crypto) for Node.js or see [Teams Webhook Sample](https://github.com/OfficeDev/microsoft-teams-sample-outgoing-webhook/blob/23eb61da5a18634d51c5247944843da9abed01b6/WebhookSampleBot/Models/AuthProvider.cs) for C\#).</span></span> <span data-ttu-id="87c1a-174">Microsoft Teams verwendet standardmäßige SHA256 HMAC-Kryptografie.</span><span class="sxs-lookup"><span data-stu-id="87c1a-174">Microsoft Teams uses standard SHA256 HMAC cryptography.</span></span> <span data-ttu-id="87c1a-175">Sie müssen den Textkörper in ein Bytearray in UTF8 konvertieren.</span><span class="sxs-lookup"><span data-stu-id="87c1a-175">You need to convert the body to a byte array in UTF8.</span></span>
* <span data-ttu-id="87c1a-176">Berechnen Sie den Hash aus dem Bytearray des von **Teams** bereitgestellten Sicherheitstokens, wenn Sie den ausgehenden Webhook im Teams registriert haben].</span><span class="sxs-lookup"><span data-stu-id="87c1a-176">Compute the hash from the byte array of the security token **provided by Teams** when you registered the outgoing webhook in the Teams client].</span></span> <span data-ttu-id="87c1a-177">Weitere [Informationen finden Sie unter Create an outgoing webhook](#create-an-outgoing-webhook).</span><span class="sxs-lookup"><span data-stu-id="87c1a-177">See [Create an outgoing webhook](#create-an-outgoing-webhook).</span></span>
* <span data-ttu-id="87c1a-178">Konvertieren Sie den Hash mithilfe der UTF-8-Codierung in eine Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="87c1a-178">Convert the hash to a string using UTF-8 encoding.</span></span>
* <span data-ttu-id="87c1a-179">Vergleichen Sie den Zeichenfolgenwert des generierten Hashs mit dem in der #A0 angegebenen Wert.</span><span class="sxs-lookup"><span data-stu-id="87c1a-179">Compare the string value of the generated hash with the value provided in the HTTP request.</span></span>

### <a name="3-create-a-method-to-send-a-success-or-failure-response"></a><span data-ttu-id="87c1a-180">3. Erstellen einer Methode zum Senden einer Erfolgs- oder Fehlerantwort</span><span class="sxs-lookup"><span data-stu-id="87c1a-180">3. Create a method to send a success or failure response</span></span>

<span data-ttu-id="87c1a-181">Antworten aus Ihren ausgehenden Webhooks werden in derselben Antwortkette wie die ursprüngliche Nachricht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="87c1a-181">Responses from your outgoing webhooks appear in the same reply chain as the original message.</span></span> <span data-ttu-id="87c1a-182">Wenn der Benutzer eine Abfrage ausführt, gibt Microsoft Teams eine synchrone HTTP-Anforderung an Ihren Dienst aus, und Ihr Code erhält fünf Sekunden, um auf die Nachricht zu antworten, bevor die Verbindung ein Zeit-Out auftritt und beendet wird.</span><span class="sxs-lookup"><span data-stu-id="87c1a-182">When the user performs a query, Microsoft Teams issues a synchronous HTTP request to your service and your code gets five seconds to respond to the message before the connection times out and terminates.</span></span>

### <a name="example-response"></a><span data-ttu-id="87c1a-183">Beispielantwort</span><span class="sxs-lookup"><span data-stu-id="87c1a-183">Example response</span></span>

```json
{
    "type": "message",
    "text": "This is a reply!"
}
```

## <a name="create-an-outgoing-webhook"></a><span data-ttu-id="87c1a-184">Erstellen eines ausgehenden Webhooks</span><span class="sxs-lookup"><span data-stu-id="87c1a-184">Create an outgoing webhook</span></span>

1. <span data-ttu-id="87c1a-185">Wählen Sie das entsprechende Team aus, und **wählen** Sie im Dropdownmenü (&#8226;&#8226;&#8226;) Team verwalten aus.</span><span class="sxs-lookup"><span data-stu-id="87c1a-185">Select the appropriate team and choose **Manage team** from the (&#8226;&#8226;&#8226;) drop-down menu.</span></span>
1. <span data-ttu-id="87c1a-186">Wählen Sie **in** der Navigationsleiste die Registerkarte Apps aus.</span><span class="sxs-lookup"><span data-stu-id="87c1a-186">Choose the **Apps** tab from the navigation bar.</span></span>
1. <span data-ttu-id="87c1a-187">Wählen Sie in der unteren rechten Ecke des Fensters **Ausgehenden Webhook erstellen aus.**</span><span class="sxs-lookup"><span data-stu-id="87c1a-187">From the window's lower right corner select **Create an outgoing webhook**.</span></span>
1. <span data-ttu-id="87c1a-188">Füllen Sie im resultierenden Popupfenster die erforderlichen Felder aus:</span><span class="sxs-lookup"><span data-stu-id="87c1a-188">In the resulting popup window complete the required fields:</span></span>

>* <span data-ttu-id="87c1a-189">**Name**: Der Webhooktitel und @mention tippen</span><span class="sxs-lookup"><span data-stu-id="87c1a-189">**Name**: The webhook title and @mention tap</span></span>
>* <span data-ttu-id="87c1a-190">**Rückruf-URL:** Der HTTPS-Endpunkt, der JSON-Nutzlasten akzeptiert und POST-Anforderungen von Teams</span><span class="sxs-lookup"><span data-stu-id="87c1a-190">**Callback URL**: The HTTPS endpoint that accepts JSON payloads and receives POST requests from Teams</span></span>
>* <span data-ttu-id="87c1a-191">**Beschreibung**: Eine detaillierte Zeichenfolge, die auf der Profilkarte und im App-Dashboard auf Teamebene angezeigt wird</span><span class="sxs-lookup"><span data-stu-id="87c1a-191">**Description**: A detailed string that appear in the profile card and the team-level App dashboard</span></span>
>* <span data-ttu-id="87c1a-192">**Profilbild**: Ein optionales App-Symbol für Ihren Webhook</span><span class="sxs-lookup"><span data-stu-id="87c1a-192">**Profile Picture**: An optional app icon for your webhook</span></span>
>* <span data-ttu-id="87c1a-193">Wählen Sie **in** der unteren rechten Ecke des Popupfensters die Schaltfläche Erstellen aus, und der ausgehende Webhook wird den Kanälen des aktuellen Teams hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="87c1a-193">Select the **Create** button from the lower right corner of the pop-up window and the outgoing webhook are added to the current team's channels.</span></span>
>* <span data-ttu-id="87c1a-194">Im nächsten Dialogfeld wird ein [Sicherheitstoken (Hash-based Message Authentication Code, HMAC)](https://security.stackexchange.com/questions/20129/how-and-when-do-i-use-hmac/20301) angezeigt, das zum Authentifizieren von Anrufen zwischen Teams und dem angegebenen außerhalb des Diensts verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="87c1a-194">The next dialog window displays an [Hash-based Message Authentication Code (HMAC)](https://security.stackexchange.com/questions/20129/how-and-when-do-i-use-hmac/20301) security token that is used to authenticate calls between Teams and the designated outside service.</span></span>
>* <span data-ttu-id="87c1a-195">Der ausgehende Webhook steht den Benutzern des Teams nur zur Verfügung, wenn die URL gültig ist und die Server- und Clientauthentifizierungstoken gleich sind, z. B. ein HMAC-Handshake.</span><span class="sxs-lookup"><span data-stu-id="87c1a-195">The outgoing webhook is available to the team's users, only if the URL is valid and the server and client authentication tokens are equal for example, an HMAC handshake.</span></span>

## <a name="code-sample"></a><span data-ttu-id="87c1a-196">Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="87c1a-196">Code sample</span></span>
|<span data-ttu-id="87c1a-197">**Beispielname**</span><span class="sxs-lookup"><span data-stu-id="87c1a-197">**Sample name**</span></span> | <span data-ttu-id="87c1a-198">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="87c1a-198">**Description**</span></span> | <span data-ttu-id="87c1a-199">**.NET**</span><span class="sxs-lookup"><span data-stu-id="87c1a-199">**.NET**</span></span> | <span data-ttu-id="87c1a-200">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="87c1a-200">**Node.js**</span></span> |
|----------------|------------------|--------|----------------|
| <span data-ttu-id="87c1a-201">Ausgehende Webhooks</span><span class="sxs-lookup"><span data-stu-id="87c1a-201">Outgoing webhooks</span></span> | <span data-ttu-id="87c1a-202">Beispiele zum Erstellen **von benutzerdefinierten Bots,** die in der Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="87c1a-202">Samples to create **Custom Bots** to be used in Microsoft Teams.</span></span>| [<span data-ttu-id="87c1a-203">View</span><span class="sxs-lookup"><span data-stu-id="87c1a-203">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/outgoing-webhook/csharp) | [<span data-ttu-id="87c1a-204">View</span><span class="sxs-lookup"><span data-stu-id="87c1a-204">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/outgoing-webhook/nodejs)|

