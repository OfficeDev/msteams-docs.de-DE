---
title: Bots für Anrufe und Online Besprechungen
description: Erfahren Sie, wie Ihre Microsoft Teams-apps mit Benutzern interagieren können, die Sprach-und Videofunktionen mithilfe von Microsoft Graph-APIs für Anrufe und Onlinebesprechungen verwenden.
keywords: Anrufe für Audio-Video-IVR-VoIP-Onlinebesprechungen
ms.openlocfilehash: 03bd7e085908a49f070fe84aba87138ecabafb83
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/01/2020
ms.locfileid: "41674249"
---
# <a name="calls-and-online-meetings-bots"></a><span data-ttu-id="f579f-104">Bots für Anrufe und Onlinebesprechungen</span><span class="sxs-lookup"><span data-stu-id="f579f-104">Calls and online meetings bots</span></span>

<span data-ttu-id="f579f-105">Mit [Microsoft Graph-APIs für Anrufe und Onlinebesprechungen](/graph/api/resources/communications-api-overview?view=graph-rest-beta)können Microsoft Teams-apps nun mithilfe von Sprach-und Videofunktionen auf vielfältige Weise mit Benutzern interagieren.</span><span class="sxs-lookup"><span data-stu-id="f579f-105">With the addition of [Microsoft Graph APIs for calls and online meetings](/graph/api/resources/communications-api-overview?view=graph-rest-beta), Microsoft Teams apps can now interact with users in rich ways using voice and video.</span></span> <span data-ttu-id="f579f-106">Mit diesen APIs können Sie neue Funktionen wie interaktive Sprachantwort (Interactive Voice Response, IVR), Anrufsteuerung und Zugriff auf Echtzeit-Audio-und/oder-Videodatenströme für Anrufe und Besprechungen hinzufügen, einschließlich Desktop-und App-Freigabe.</span><span class="sxs-lookup"><span data-stu-id="f579f-106">These APIs allow you to add new features such as interactive voice response (IVR), call control, and access to real-time audio and/or video streams for calls and meetings, including desktop and app sharing.</span></span>

<span data-ttu-id="f579f-107">Um diese Microsoft Graph-APIs in einer Microsoft Teams-APP zu verwenden, erstellen Sie einen bot und geben einige zusätzliche Informationen und Berechtigungen an, die wir an anderer Stelle beschreiben, aber zunächst ist es wichtig, einige Kernkonzepte, Terminologie und Konventionen zu verstehen:</span><span class="sxs-lookup"><span data-stu-id="f579f-107">To use these Microsoft Graph APIs in a Microsoft Teams app, you create a bot and specify some additional information and permissions which we'll describe elsewhere, but first, it's important to understand some core concepts, terminology, and conventions:</span></span>

* <span data-ttu-id="f579f-108">**Audio/Videoanrufe.**</span><span class="sxs-lookup"><span data-stu-id="f579f-108">**Audio/video calls.**</span></span> <span data-ttu-id="f579f-109">Anrufe in Microsoft Teams können rein Audio-oder Audio + Video sein.</span><span class="sxs-lookup"><span data-stu-id="f579f-109">Calls in Teams can be purely audio or audio+video.</span></span> <span data-ttu-id="f579f-110">Um der Kürze willen, sagen wir nicht "Audio/Video-Anruf" überall; Wir sagen einfach "Anruf" aus.</span><span class="sxs-lookup"><span data-stu-id="f579f-110">For brevity's sake, we don't say "audio/video call" everywhere; we just say "call."</span></span>
* <span data-ttu-id="f579f-111">**Anruftypen.**</span><span class="sxs-lookup"><span data-stu-id="f579f-111">**Call types.**</span></span> <span data-ttu-id="f579f-112">Anrufe sind entweder Peer-to-Peer (zwischen einer Person und Ihrem bot) oder mehrteilig (Ihr bot und zwei oder mehr Personen in einem Gruppenanruf).</span><span class="sxs-lookup"><span data-stu-id="f579f-112">Calls are either peer-to-peer (between a person and your bot) or multiparty (your bot and two or more people in a group call).</span></span>
  <span data-ttu-id="f579f-113">![Anruftypen](~/assets/images/calls-and-meetings/call-types.png):</span><span class="sxs-lookup"><span data-stu-id="f579f-113">![Call Types](~/assets/images/calls-and-meetings/call-types.png):</span></span>
  * <span data-ttu-id="f579f-114">Ein Benutzer kann einen Peer-zu-Peer-Anruf mit Ihrem bot initiieren oder Ihren bot in einen vorhandenen mehr Parteien Anruf einladen (obwohl dieser noch nicht in der Microsoft Teams-Benutzeroberfläche aktiviert ist).</span><span class="sxs-lookup"><span data-stu-id="f579f-114">A user may initiate a peer-to-peer call with your bot or invite your bot into an existing multiparty call (although the latter is not yet enabled in the Microsoft Teams UI).</span></span>
  * <span data-ttu-id="f579f-115">Microsoft Graph-Berechtigungen sind nicht erforderlich, damit ein Benutzer einen Peer-to-Peer-Anruf mit Ihrem bot initiieren kann, aber zusätzliche Berechtigungen sind erforderlich, damit Ihr bot an einem mehrteiligen Anruf teilnimmt oder Ihr bot einen Peer-to-Peer-Anruf mit einem Benutzer initiieren kann.</span><span class="sxs-lookup"><span data-stu-id="f579f-115">Microsoft Graph permissions aren't necessary for a user to initiate a peer-to-peer call with your bot, but additional permissions are needed for your bot to participate in a multiparty call, or for your bot to initiate a peer-to-peer call with a user.</span></span>
  * <span data-ttu-id="f579f-116">Ein Anruf wird möglicherweise als Peer-to-Peer gestartet und eskaliert zu mehr Parteien.</span><span class="sxs-lookup"><span data-stu-id="f579f-116">A call may start as peer-to-peer and escalate to multiparty.</span></span> <span data-ttu-id="f579f-117">Ihr Bot kann diese Eskalation initiieren, indem er andere einlädt, vorausgesetzt, Ihr bot verfügt über die entsprechenden Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="f579f-117">Your bot can initiate this escalation by inviting others, provided your bot has the proper permissions.</span></span> <span data-ttu-id="f579f-118">Wenn Ihr bot keine Berechtigungen zur Teilnahme an Gruppen anrufen hat und ein Teilnehmer eine andere Partei hinzufügt, wird Ihr bot aus dem Anruf gelöscht.</span><span class="sxs-lookup"><span data-stu-id="f579f-118">If your bot doesn't have permissions to participate in group calls and one participant adds another party, your bot is dropped from the call.</span></span>
* <span data-ttu-id="f579f-119">**Signal.**</span><span class="sxs-lookup"><span data-stu-id="f579f-119">**Signaling.**</span></span> <span data-ttu-id="f579f-120">Es gibt zwei Arten von Signalen – eingehenden Anruf und in-Call:</span><span class="sxs-lookup"><span data-stu-id="f579f-120">There are two types of signals — incoming call and in-call:</span></span>
  * <span data-ttu-id="f579f-121">Um einen eingehenden Anruf zu erhalten, geben Sie einen Endpunkt in ihren bot-Einstellungen an; dieser Endpunkt erhält eine Benachrichtigung, wenn ein eingehender Anruf ankommt.</span><span class="sxs-lookup"><span data-stu-id="f579f-121">To receive an incoming call, you specify an endpoint in your bot settings; this endpoint receives a notification when an incoming call arrives.</span></span> <span data-ttu-id="f579f-122">Sie können den Anruf annehmen, ablehnen oder an einen anderen Ort oder eine andere Person weiterleiten.</span><span class="sxs-lookup"><span data-stu-id="f579f-122">You can answer the call, reject it, or redirect it to somewhere or someone else.</span></span>
  <span data-ttu-id="f579f-123">![Anruftypen](~/assets/images/calls-and-meetings/call-handling.png)</span><span class="sxs-lookup"><span data-stu-id="f579f-123">![Call Types](~/assets/images/calls-and-meetings/call-handling.png)</span></span>
  * <span data-ttu-id="f579f-124">Wenn sich ein bot in einem Anruf befindet, gibt es APIs zum stumm schalten und zum Aufheben der Stummschaltung selbst sowie zum Starten/Beenden der Freigabe von Video-/Desktopinhalten mit den anderen Teilnehmern.</span><span class="sxs-lookup"><span data-stu-id="f579f-124">When a bot is in a call, there are APIs for muting and unmuting itself and to start/stop sharing video/desktop content with the other participants.</span></span>
  * <span data-ttu-id="f579f-125">Der Bot kann auch auf die Teilnehmerliste zugreifen, neue Teilnehmer einladen und Sie stumm schalten.</span><span class="sxs-lookup"><span data-stu-id="f579f-125">The bot can also access the list of participants, invite new participants, and mute them.</span></span>
* <span data-ttu-id="f579f-126">**Anrufe und Onlinebesprechungen.**</span><span class="sxs-lookup"><span data-stu-id="f579f-126">**Calls and online meetings.**</span></span> <span data-ttu-id="f579f-127">Aus der Perspektive eines Teams-Benutzers gibt es zwei Arten von Onlinebesprechungen – Ad hoc und geplant.</span><span class="sxs-lookup"><span data-stu-id="f579f-127">From a Teams user's perspective, there are two kinds of online meetings — ad hoc and scheduled.</span></span> <span data-ttu-id="f579f-128">Aus der Perspektive eines bot ist dies jedoch anders.</span><span class="sxs-lookup"><span data-stu-id="f579f-128">However, from a bot's perspective, it's different.</span></span> <span data-ttu-id="f579f-129">Für einen Bot ist eine Onlinebesprechung nur ein mehr Parteien Anruf (die Gruppe von Teilnehmern) plus "Besprechungs Koordinaten", die Sie `botId`als Metadaten für die Besprechung betrachten können:, `chatId` die der Besprechung `joinUrl` `startTime` / `endTime`zugeordnet ist, und mehr.</span><span class="sxs-lookup"><span data-stu-id="f579f-129">To a bot, an online meeting is just a multiparty call (the set of participants) plus "meeting coordinates," which you can think of as the metadata for the meeting: `botId`, `chatId` associated with the meeting, `joinUrl`, `startTime`/`endTime`, and more.</span></span>
* <span data-ttu-id="f579f-130">**Echt Zeit Medien.**</span><span class="sxs-lookup"><span data-stu-id="f579f-130">**Real-time media.**</span></span> <span data-ttu-id="f579f-131">Wenn ein bot an einem Anruf oder einer Onlinebesprechung teilnimmt, muss er sich mit Audio-und Videodatenströmen beschäftigen.</span><span class="sxs-lookup"><span data-stu-id="f579f-131">When a bot is participating in a call or online meeting, it must deal with audio and video streams.</span></span> <span data-ttu-id="f579f-132">Wenn Benutzer über einen Anruf sprechen, sich selbst in einer Webcam anzeigen oder ihre Bildschirme in einer Besprechung präsentieren, sieht ein bot diesen als Audio-und/oder Videostreams.</span><span class="sxs-lookup"><span data-stu-id="f579f-132">When users talk on a call, show themselves on a webcam, or present their screens in a meeting, a bot "sees" this as audio and/or video streams.</span></span> <span data-ttu-id="f579f-133">Wenn ein bot etwas sagen oder Bildschirminhalte präsentieren möchte, erfordert dies einen Audio-oder Videostream.</span><span class="sxs-lookup"><span data-stu-id="f579f-133">If a bot wants to say something or present screen content, that requires an audio or video stream.</span></span> <span data-ttu-id="f579f-134">Selbst so einfach wie der bot sagt: "drücken Sie 0, um den Operator zu erreichen" in einem IVR-Szenario (Interaktive Sprachantwort) ist das Abspielen einer. WAV-Datei.</span><span class="sxs-lookup"><span data-stu-id="f579f-134">Even something as simple as the bot saying, "press 0 to reach the operator" in an IVR (interactive voice response) scenario means playing a .WAV file.</span></span> <span data-ttu-id="f579f-135">Gemeinsam bezeichnen wir dies als _Medien_ -oder _Echt Zeit Medien_ (bei Bezugnahme auf Szenarien, in denen Medien in Echtzeit verarbeitet werden müssen, im Gegensatz zur Wiedergabe zuvor aufgezeichneten Audios/Videos).</span><span class="sxs-lookup"><span data-stu-id="f579f-135">Collectively, we refer to this as _media_ or _real-time media_ (when referring to scenarios where media must be processed in real time, as opposed to playback of previously-recorded audio/video).</span></span> <span data-ttu-id="f579f-136">Historisch gesehen war der Umgang mit Mediendatenströmen, insbesondere in Echtzeit-Mediendatenströmen, für Entwickler äußerst komplex.</span><span class="sxs-lookup"><span data-stu-id="f579f-136">Historically, dealing with media streams, particularly real-time media streams, has been extremely complex for developers.</span></span> <span data-ttu-id="f579f-137">Microsoft hat die _Echtzeit-Medienplattform_ erstellt, um diese Anwendungsfälle zu verarbeiten und so viel wie möglich von der herkömmlichen "schweren Hebung" der Echt Zeit Medienverarbeitung zu entlasten.</span><span class="sxs-lookup"><span data-stu-id="f579f-137">Microsoft has created the _Real-time Media Platform_ to handle these use cases and to offload as much of the traditional "heavy lifting" of real-time media processing as possible.</span></span>  <span data-ttu-id="f579f-138">Wenn der Bot auf einen eingehenden Anruf antwortet oder einem neuen oder bestehenden Anruf beitritt, muss er der Real-Time Media-Plattform mitteilen, wie Medien behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="f579f-138">When the bot answers an incoming call, or joins a new or existing call, it needs to tell the Real-time Media Platform how media will be handled.</span></span> <span data-ttu-id="f579f-139">Wenn Sie eine IVR-Anwendung erstellen, können Sie die teure Audioverarbeitung an Microsoft abwälzen.</span><span class="sxs-lookup"><span data-stu-id="f579f-139">If you're building an IVR application, you can offload the expensive audio processing to Microsoft.</span></span> <span data-ttu-id="f579f-140">Wenn Ihr bot auch direkten Zugriff auf Mediendatenströme erfordert, unterstützen wir dieses Szenario ebenfalls.</span><span class="sxs-lookup"><span data-stu-id="f579f-140">Alternatively, if your bot requires direct access to media streams, we support that scenario too.</span></span> <span data-ttu-id="f579f-141">Es gibt zwei Arten von Medienverarbeitung:</span><span class="sxs-lookup"><span data-stu-id="f579f-141">There are the two types of media processing:</span></span>
  * <span data-ttu-id="f579f-142">**Vom Dienst gehostete Medien.**</span><span class="sxs-lookup"><span data-stu-id="f579f-142">**Service-hosted media.**</span></span> <span data-ttu-id="f579f-143">Bots konzentrieren sich auf die Verwaltung des Anwendungsworkflows (beispielsweise das Weiterleiten von Anrufen) und die Abladung der Audioverarbeitung an die Microsoft-echt Zeit Medienplattform.</span><span class="sxs-lookup"><span data-stu-id="f579f-143">Bots focus on managing application workflow (e.g., routing calls) and offload audio processing to the Microsoft Real-time Media Platform.</span></span> <span data-ttu-id="f579f-144">Bei Dienst gehosteten Medien stehen Ihnen mehrere Optionen zum Implementieren und Hosten Ihres bot zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="f579f-144">With service-hosted media, you have several options to implement and host your bot.</span></span> <span data-ttu-id="f579f-145">Ein von einem Dienst gehosteter Medien bot kann als statusloser Dienst implementiert werden, da Medien nicht lokal verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="f579f-145">A service-hosted media bot can be implemented as a stateless service since it doesn't process media locally.</span></span> <span data-ttu-id="f579f-146">Vom Dienst gehostete Medien Bots können APIs verwenden, `PlayPrompt` beispielsweise zum Abspielen eines Audioclips, `Record` zum Aufzeichnen von `SubscribeToTone` Audioclips oder zum Abonnieren von DTMF-Tönen (beispielsweise zu wissen, wann ein Benutzer 0 gedrückt hat, um den Operator zu erreichen).</span><span class="sxs-lookup"><span data-stu-id="f579f-146">Service-hosted media bots can use APIs such as `PlayPrompt` for playing an audio clip, `Record` for recording audio clips, or `SubscribeToTone` for subscribing to DTMF tones (e.g., knowing when a user has pressed 0 to reach the operator).</span></span>
  * <span data-ttu-id="f579f-147">**Von der Anwendung gehostete Medien.**</span><span class="sxs-lookup"><span data-stu-id="f579f-147">**Application-hosted media.**</span></span> <span data-ttu-id="f579f-148">Damit ein bot einen direkten Zugriff auf die Medien erhält, benötigt er eine bestimmte Graph-Berechtigung, aber sobald der bot ihn hat, hilft die [Echt Zeit Medienbibliothek](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) und das [Graph-Aufruf-SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) beim Erstellen reichhaltiger, Echt Zeit Medien und beim Aufrufen von Bots.</span><span class="sxs-lookup"><span data-stu-id="f579f-148">For a bot to get direct access to the media, it needs a specific Graph permission, but once your bot has it, the [Real-time Media Library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) and the [Graph Calling SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) helps you build rich, real-time media, calling bots.</span></span> <span data-ttu-id="f579f-149">Ein von der Anwendung gehosteter bot muss in einer Windows-Umgebung gehostet werden, wie [hier](./requirements-considerations-application-hosted-media-bots.md)ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f579f-149">An Application-hosted bot must be hosted in a Windows environment, as described in more detail [here](./requirements-considerations-application-hosted-media-bots.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="f579f-150">Weiterführende Literatur</span><span class="sxs-lookup"><span data-stu-id="f579f-150">Further reading</span></span>

<span data-ttu-id="f579f-151">Hier finden Sie weitere Informationen zum Erstellen und Testen von Anrufen und Online-Besprechungs-Bots:</span><span class="sxs-lookup"><span data-stu-id="f579f-151">Here's more information on how to create and test calls and online meetings bots:</span></span>

* [<span data-ttu-id="f579f-152">Diagramm-API-Referenz</span><span class="sxs-lookup"><span data-stu-id="f579f-152">Graph API reference</span></span>](/graph/api/resources/communications-api-overview?view=graph-rest-beta)
* [<span data-ttu-id="f579f-153">Beispiel-apps</span><span class="sxs-lookup"><span data-stu-id="f579f-153">Sample apps</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples)
* <span data-ttu-id="f579f-154">[Registrieren eines bot, der Anrufe und Onlinebesprechungen](./registering-calling-bot.md) und [Microsoft Graph-Berechtigungen für Anrufe und Online-Besprechungs-Bots](/registering-calling-bot.md#add-microsoft-graph-permissions) unterstützt</span><span class="sxs-lookup"><span data-stu-id="f579f-154">[Registering a bot that supports calls and online meetings](./registering-calling-bot.md) and [Microsoft Graph permissions for calls and online meetings bots](/registering-calling-bot.md#add-microsoft-graph-permissions)</span></span>
* [<span data-ttu-id="f579f-155">So entwickeln Sie Anrufer-und Online-Besprechungs-Bots auf Ihrem lokalen PC</span><span class="sxs-lookup"><span data-stu-id="f579f-155">How to develop calling and online meeting bots on your local PC</span></span>](./debugging-local-testing-calling-meeting-bots.md)
* <span data-ttu-id="f579f-156">[Weitere Informationen zur Echt Zeit Medienverarbeitung](./real-time-media-concepts.md)und [was für die Unterstützung von von Anwendungen gehosteten Medien erforderlich ist](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="f579f-156">[More information on real-time media processing](./real-time-media-concepts.md), and [what's needed to support application-hosted media](./requirements-considerations-application-hosted-media-bots.md)</span></span>
* [<span data-ttu-id="f579f-157">Technische Informationen zum Verarbeiten von Benachrichtigungen über eingehende Anrufe</span><span class="sxs-lookup"><span data-stu-id="f579f-157">Technical information on handling incoming call notifications</span></span>](./call-notifications.md)
