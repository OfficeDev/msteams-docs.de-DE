---
title: Unterstützung für einmaliges Anmelden für Registerkarten
description: Beschreibt einmaliges Anmelden (Single Sign-On, SSO)
ms.topic: how-to
keywords: teams authentication SSO AAD single sign-on api
ms.openlocfilehash: 6be04617961d45763e5c812149d47a126fc4dae3
ms.sourcegitcommit: ee8c4800da3b3569d80c6f3661a2f20aa1f2c5e2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/19/2021
ms.locfileid: "51885066"
---
# <a name="single-sign-on-sso-support-for-tabs"></a><span data-ttu-id="f934e-104">Unterstützung für einmaliges Anmelden (Single Sign-On, SSO) für Registerkarten</span><span class="sxs-lookup"><span data-stu-id="f934e-104">Single sign-on (SSO) support for tabs</span></span>

<span data-ttu-id="f934e-105">Benutzer melden sich bei Microsoft Teams über ihre Geschäfts-, Schul- oder Microsoft-Konten an, die Office 365, Outlook und so weiter sind.</span><span class="sxs-lookup"><span data-stu-id="f934e-105">Users sign in to Microsoft Teams through their work, school, or Microsoft accounts that is Office 365, Outlook, and so on.</span></span> <span data-ttu-id="f934e-106">Sie können dies nutzen, indem Sie einer einmaligen Anmeldung erlauben, Ihre Registerkarte oder Ihr Aufgabenmodul für Teams auf Desktop- oder mobilen Clients zu autorisieren.</span><span class="sxs-lookup"><span data-stu-id="f934e-106">You can take advantage of this by allowing a single sign-on to authorize your Teams tab or task module on desktop or mobile clients.</span></span> <span data-ttu-id="f934e-107">Wenn ein Benutzer der Verwendung Ihrer App zuwilligt, muss er nicht erneut auf einem anderen Gerät zustimmen, da er automatisch angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="f934e-107">If a user consents to use your app, they do not have to consent again on another device as they are signed in automatically.</span></span> <span data-ttu-id="f934e-108">Darüber hinaus wird Ihr Zugriffstoken vorab vorkonfetcht, um die Leistung und Ladezeiten zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="f934e-108">In addition, your access token is prefetched to improve performance and load times.</span></span>

> [!NOTE]
> <span data-ttu-id="f934e-109">**Mobile Clientversionen von Teams, die SSO unterstützen**</span><span class="sxs-lookup"><span data-stu-id="f934e-109">**Teams mobile client versions supporting SSO**</span></span>  
>
> <span data-ttu-id="f934e-110">✔Teams für Android (1416/1.0.0.2020073101 und höher)</span><span class="sxs-lookup"><span data-stu-id="f934e-110">✔Teams for Android (1416/1.0.0.2020073101 and later)</span></span>
>
> <span data-ttu-id="f934e-111">✔Teams für iOS (_Version_: 2.0.18 und höher)</span><span class="sxs-lookup"><span data-stu-id="f934e-111">✔Teams for iOS (_Version_: 2.0.18 and later)</span></span>  
>
> <span data-ttu-id="f934e-112">Verwenden Sie die neueste Version von iOS und Android, um die beste Erfahrung mit Teams zu bieten.</span><span class="sxs-lookup"><span data-stu-id="f934e-112">For the best experience with Teams, use the latest version of iOS and Android.</span></span>

> [!NOTE]
> <span data-ttu-id="f934e-113">**Schnellstart**</span><span class="sxs-lookup"><span data-stu-id="f934e-113">**Quickstart**</span></span>  
>
> <span data-ttu-id="f934e-114">Der einfachste Weg zu den ersten Schritten mit registerkarten-SSO ist das Teams Toolkit für Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="f934e-114">The simplest path to getting started with tab SSO is with the Teams toolkit for Visual Studio Code.</span></span> <span data-ttu-id="f934e-115">Weitere Informationen finden Sie unter [SSO with Teams toolkit and Visual Studio Code for tabs](../../../toolkit/visual-studio-code-tab-sso.md)</span><span class="sxs-lookup"><span data-stu-id="f934e-115">For more information, see [SSO with Teams toolkit and Visual Studio Code for tabs](../../../toolkit/visual-studio-code-tab-sso.md)</span></span>

## <a name="how-sso-works-at-runtime"></a><span data-ttu-id="f934e-116">Funktionsweise von SSO zur Laufzeit</span><span class="sxs-lookup"><span data-stu-id="f934e-116">How SSO works at runtime</span></span>

<span data-ttu-id="f934e-117">Die folgende Abbildung zeigt, wie der SSO-Prozess funktioniert:</span><span class="sxs-lookup"><span data-stu-id="f934e-117">The following image shows how the SSO process works:</span></span>

<!-- markdownlint-disable MD033 -->
<img src="~/assets/images/tabs/tabs-sso-diagram.png" alt="Tab single sign-on SSO diagram" width="75%"/>

1. <span data-ttu-id="f934e-118">In der Registerkarte wird ein JavaScript-Aufruf an `getAuthToken()` durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="f934e-118">In the tab, a JavaScript call is made to `getAuthToken()`.</span></span> <span data-ttu-id="f934e-119">Dies weist Teams an, ein Authentifizierungstoken für die Registerkartenanwendung abzurufen.</span><span class="sxs-lookup"><span data-stu-id="f934e-119">This tells Teams to obtain an authentication token for the tab application.</span></span>
2. <span data-ttu-id="f934e-120">Wenn dies das erste Mal ist, dass der aktuelle Benutzer Ihre Registerkartenanwendung verwendet hat, gibt es eine Anforderungsaufforderung zur Zustimmung, wenn eine Zustimmung erforderlich ist, oder zur Verarbeitung der mehrstufigen Authentifizierung, z. B. der zweistufigen Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="f934e-120">If this is the first time the current user has used your tab application, there is a request prompt to consent if consent is required or to handle step-up authentication such as two-factor authentication.</span></span>
3. <span data-ttu-id="f934e-121">Teams fordert das Registerkartenanwendungstoken vom Azure Active Directory (AAD)-Endpunkt für den aktuellen Benutzer an.</span><span class="sxs-lookup"><span data-stu-id="f934e-121">Teams requests the tab application token from the Azure Active Directory (AAD) endpoint for the current user.</span></span>
4. <span data-ttu-id="f934e-122">AAD sendet das Registerkartenanwendungstoken an die Teams-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f934e-122">AAD sends the tab application token to the Teams application.</span></span>
5. <span data-ttu-id="f934e-123">Teams sendet das Registerkartenanwendungstoken als Teil des vom Aufruf zurückgegebenen Ergebnisobjekts an die `getAuthToken()` Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="f934e-123">Teams sends the tab application token to the tab as part of the result object returned by the `getAuthToken()` call.</span></span>
6. <span data-ttu-id="f934e-124">Das Token wird in der Registerkartenanwendung mithilfe von JavaScript analysiert, um die erforderlichen Informationen wie die E-Mail-Adresse des Benutzers zu extrahieren.</span><span class="sxs-lookup"><span data-stu-id="f934e-124">The token is parsed in the tab application using JavaScript, to extract required information, such as the user's email address.</span></span>

> [!NOTE]
> <span data-ttu-id="f934e-125">Der ist nur gültig für die Zustimmung zu einer begrenzten Gruppe von APIs auf Benutzerebene, d. h. `getAuthToken()` E-Mail, Profil, offline_access und OpenId.</span><span class="sxs-lookup"><span data-stu-id="f934e-125">The `getAuthToken()` is only valid for consenting to a limited set of user-level APIs that is email, profile, offline_access and OpenId.</span></span> <span data-ttu-id="f934e-126">Es wird nicht für weitere Graph-Bereiche wie oder `User.Read` `Mail.Read` verwendet.</span><span class="sxs-lookup"><span data-stu-id="f934e-126">It is not used for further Graph scopes such as `User.Read` or `Mail.Read`.</span></span> <span data-ttu-id="f934e-127">Mögliche Problemumgehungen finden Sie [unter zusätzliche Graph-Bereiche](#apps-that-require-additional-graph-scopes).</span><span class="sxs-lookup"><span data-stu-id="f934e-127">For suggested workarounds, see [additional Graph scopes](#apps-that-require-additional-graph-scopes).</span></span>

<span data-ttu-id="f934e-128">Die SSO-API funktioniert auch in [Aufgabenmodulen,](../../../task-modules-and-cards/what-are-task-modules.md) die Webinhalte einbetten.</span><span class="sxs-lookup"><span data-stu-id="f934e-128">The SSO API also works in [task modules](../../../task-modules-and-cards/what-are-task-modules.md) that embed web content.</span></span>

## <a name="develop-an-sso-microsoft-teams-tab"></a><span data-ttu-id="f934e-129">Entwickeln einer Microsoft Teams-Registerkarte für SSO</span><span class="sxs-lookup"><span data-stu-id="f934e-129">Develop an SSO Microsoft Teams tab</span></span>

<span data-ttu-id="f934e-130">In diesem Abschnitt werden die Aufgaben beim Erstellen einer Registerkarte Teams beschrieben, die SSO verwendet.</span><span class="sxs-lookup"><span data-stu-id="f934e-130">This section describes the tasks involved in creating a Teams tab that uses SSO.</span></span> <span data-ttu-id="f934e-131">Diese Aufgaben sind sprach- und frameworkunabhängig.</span><span class="sxs-lookup"><span data-stu-id="f934e-131">These tasks are language- and framework-agnostic.</span></span>

### <a name="1-create-your-aad-application"></a><span data-ttu-id="f934e-132">1. Erstellen Ihrer AAD-Anwendung</span><span class="sxs-lookup"><span data-stu-id="f934e-132">1. Create your AAD application</span></span>

<span data-ttu-id="f934e-133">**So registrieren Sie Ihre Anwendung im [AAD-Portal](https://azure.microsoft.com/features/azure-portal/) (Übersicht)**</span><span class="sxs-lookup"><span data-stu-id="f934e-133">**To register your application in the [AAD portal](https://azure.microsoft.com/features/azure-portal/) overview**</span></span>

1. <span data-ttu-id="f934e-134">Erhalten Sie [Ihre AAD-Anwendungs-ID](/azure/active-directory/develop/howto-create-service-principal-portal#get-values-for-signing-in).</span><span class="sxs-lookup"><span data-stu-id="f934e-134">Get your [AAD Application ID](/azure/active-directory/develop/howto-create-service-principal-portal#get-values-for-signing-in).</span></span>
2. <span data-ttu-id="f934e-135">Geben Sie die Berechtigungen an, die Ihre Anwendung für den AAD-Endpunkt benötigt, und optional Graph.</span><span class="sxs-lookup"><span data-stu-id="f934e-135">Specify the permissions that your application needs for the AAD endpoint and, optionally, Graph.</span></span>
3. <span data-ttu-id="f934e-136">[Erteilen von Berechtigungen](/azure/active-directory/develop/howto-create-service-principal-portal#configure-access-policies-on-resources) für Desktop-, Web- und mobile Anwendungen von Teams.</span><span class="sxs-lookup"><span data-stu-id="f934e-136">[Grant permissions](/azure/active-directory/develop/howto-create-service-principal-portal#configure-access-policies-on-resources) for Teams desktop, web, and mobile applications.</span></span>
4. <span data-ttu-id="f934e-137">Autorisieren Sie Teams, indem Sie **die** Schaltfläche Bereich hinzufügen  auswählen und geben Sie in dem geöffneten Bereich access_as_user **Bereichsnamen ein.**</span><span class="sxs-lookup"><span data-stu-id="f934e-137">Pre-authorize Teams by selecting the **Add a scope** button and in the panel that opens, enter **access_as_user** as the **Scope name**.</span></span>

> [!NOTE]
> <span data-ttu-id="f934e-138">Es gibt einige wichtige Einschränkungen, die Sie kennen müssen:</span><span class="sxs-lookup"><span data-stu-id="f934e-138">There are some important restrictions that you must know:</span></span>
>
> * <span data-ttu-id="f934e-139">Es werden nur Graph-API-Berechtigungen auf Benutzerebene unterstützt, d. h. E-Mail, Profil, offline_access, OpenId.</span><span class="sxs-lookup"><span data-stu-id="f934e-139">Only user-level Graph API permissions are supported that is, email, profile, offline_access, OpenId.</span></span> <span data-ttu-id="f934e-140">Wenn Sie Zugriff auf andere Graph-Bereiche wie oder haben `User.Read` `Mail.Read` müssen, lesen Sie [empfohlene Problemumgehung](#apps-that-require-additional-graph-scopes).</span><span class="sxs-lookup"><span data-stu-id="f934e-140">If you must have access to other Graph scopes such as `User.Read` or `Mail.Read`, see [recommended workaround](#apps-that-require-additional-graph-scopes).</span></span>
> * <span data-ttu-id="f934e-141">Es ist wichtig, dass der Domänenname Ihrer Anwendung mit dem Domänennamen identisch ist, den Sie für Ihre AAD-Anwendung registriert haben.</span><span class="sxs-lookup"><span data-stu-id="f934e-141">It is important that your application's domain name is the same as the domain name you have registered for your AAD application.</span></span>
> * <span data-ttu-id="f934e-142">Derzeit werden mehrere Domänen pro App nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f934e-142">Currently multiple domains per app are not supported.</span></span>

<span data-ttu-id="f934e-143">**So registrieren Sie Ihre App über das AAD-Portal**</span><span class="sxs-lookup"><span data-stu-id="f934e-143">**To register your app through the AAD portal**</span></span>

1. <span data-ttu-id="f934e-144">Registrieren Sie eine neue Anwendung im [AAD-App-Registrierungsportal.](https://go.microsoft.com/fwlink/?linkid=2083908)</span><span class="sxs-lookup"><span data-stu-id="f934e-144">Register a new application in the [AAD App Registrations](https://go.microsoft.com/fwlink/?linkid=2083908) portal.</span></span>
2. <span data-ttu-id="f934e-145">Wählen **Sie Neue Registrierung aus.**</span><span class="sxs-lookup"><span data-stu-id="f934e-145">Select **New Registration**.</span></span> <span data-ttu-id="f934e-146">Die **Seite Anwendung registrieren** wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="f934e-146">The **Register an application** page appears.</span></span>
3. <span data-ttu-id="f934e-147">Geben Sie **auf der Seite** Anwendung registrieren die folgenden Werte ein:</span><span class="sxs-lookup"><span data-stu-id="f934e-147">In the **Register an application** page, enter the following values:</span></span>
    1. <span data-ttu-id="f934e-148">Geben Sie einen **Namen** für Ihre App ein.</span><span class="sxs-lookup"><span data-stu-id="f934e-148">Enter a **Name** for your app.</span></span>
    2. <span data-ttu-id="f934e-149">Wählen Sie **die Unterstützten Kontotypen** aus, wählen Sie einzelnen Mandanten- oder mehrstufigen Kontotyp aus.</span><span class="sxs-lookup"><span data-stu-id="f934e-149">Choose the **Supported account types**, select single tenant or multitenant account type.</span></span> <span data-ttu-id="f934e-150">¹</span><span class="sxs-lookup"><span data-stu-id="f934e-150">¹</span></span>
    * <span data-ttu-id="f934e-151">Lassen Sie **URI umleiten** leer.</span><span class="sxs-lookup"><span data-stu-id="f934e-151">Leave **Redirect URI** empty.</span></span>
    3. <span data-ttu-id="f934e-152">Wählen Sie **Registrieren** aus.</span><span class="sxs-lookup"><span data-stu-id="f934e-152">Choose **Register**.</span></span>
4. <span data-ttu-id="f934e-153">Kopieren und speichern Sie auf der Übersichtsseite die **Anwendungs-ID (Client-ID).**</span><span class="sxs-lookup"><span data-stu-id="f934e-153">On the overview page, copy and save the **Application (client) ID**.</span></span> <span data-ttu-id="f934e-154">Sie müssen dies später beim Aktualisieren Ihres Teams-Anwendungsmanifests haben.</span><span class="sxs-lookup"><span data-stu-id="f934e-154">You must have it later when updating your Teams application manifest.</span></span>
5. <span data-ttu-id="f934e-155">Wählen Sie unter **Verwalten** die Option **Eine API verfügbar machen** aus.</span><span class="sxs-lookup"><span data-stu-id="f934e-155">Under **Manage**, select **Expose an API**.</span></span>
6. <span data-ttu-id="f934e-156">Wählen Sie den **Link Set** aus, um den Anwendungs-ID-URI in Form von zu `api://{AppID}` generieren.</span><span class="sxs-lookup"><span data-stu-id="f934e-156">Select the **Set** link to generate the Application ID URI in the form of `api://{AppID}`.</span></span> <span data-ttu-id="f934e-157">Fügen Sie Ihren vollqualifizierten Domänennamen mit einem Schrägstrich "/" ein, der am Ende zwischen den doppelten Schrägstrichen und der GUID angefügt ist.</span><span class="sxs-lookup"><span data-stu-id="f934e-157">Insert your fully qualified domain name with a forward slash "/" appended to the end, between the double forward slashes and the GUID.</span></span> <span data-ttu-id="f934e-158">Die gesamte ID muss die Form `api://fully-qualified-domain-name.com/{AppID}` haben.</span><span class="sxs-lookup"><span data-stu-id="f934e-158">The entire ID must have the form of `api://fully-qualified-domain-name.com/{AppID}`.</span></span> <span data-ttu-id="f934e-159">² Beispiel: `api://subdomain.example.com/00000000-0000-0000-0000-000000000000` .</span><span class="sxs-lookup"><span data-stu-id="f934e-159">² For example, `api://subdomain.example.com/00000000-0000-0000-0000-000000000000`.</span></span> <span data-ttu-id="f934e-160">Der vollqualifizierte Domänenname ist der lesbare Domänenname für den Menschen, aus dem Ihre App bedient wird.</span><span class="sxs-lookup"><span data-stu-id="f934e-160">The fully qualified domain name is the human readable domain name from which your app is served.</span></span> <span data-ttu-id="f934e-161">Wenn Sie einen Tunneldienst wie ngrok verwenden, müssen Sie diesen Wert aktualisieren, wenn sich ihre ngrok-Unterdomäne ändert.</span><span class="sxs-lookup"><span data-stu-id="f934e-161">If you are using a tunneling service such as ngrok, you must update this value whenever your ngrok subdomain changes.</span></span>
7. <span data-ttu-id="f934e-162">Wählen Sie **Bereich hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="f934e-162">Select **Add a scope**.</span></span> <span data-ttu-id="f934e-163">Geben Sie im geöffneten Bereich **access_as_user** als **Bereichsnamen ein.**</span><span class="sxs-lookup"><span data-stu-id="f934e-163">In the panel that opens, enter **access_as_user** as the **Scope name**.</span></span>
8. <span data-ttu-id="f934e-164">Geben Sie **im Feld Wer kann zustimmen?** **Admins und Benutzer ein.**</span><span class="sxs-lookup"><span data-stu-id="f934e-164">In the **Who can consent?** box, enter **Admins and users**.</span></span>
9. <span data-ttu-id="f934e-165">Geben Sie die Details in die Felder für die Konfiguration der Administrator- und Benutzer-Zustimmungsaufforderungen mit Werten ein, die für den Bereich geeignet `access_as_user` sind:</span><span class="sxs-lookup"><span data-stu-id="f934e-165">Enter the details in the boxes for configuring the admin and user consent prompts with values that are appropriate for the `access_as_user` scope:</span></span>
    * <span data-ttu-id="f934e-166">**Titel der Administratoreinwilligung**: Teams kann auf das Benutzerprofil zugreifen.</span><span class="sxs-lookup"><span data-stu-id="f934e-166">**Admin consent title:** Teams can access the user’s profile.</span></span>
    * <span data-ttu-id="f934e-167">**Administrator-Zustimmungsbeschreibung:** Teams kann die Web-APIs der App als aktuellen Benutzer aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f934e-167">**Admin consent description**: Teams can call the app’s web APIs as the current user.</span></span>
    * <span data-ttu-id="f934e-168">**Benutzer-Zustimmungstitel:** Teams kann auf Ihr Profil zugreifen und Anforderungen in Ihrem Namen stellen.</span><span class="sxs-lookup"><span data-stu-id="f934e-168">**User consent title**: Teams can access your profile and make requests on your behalf.</span></span>
    * <span data-ttu-id="f934e-169">**Benutzer-Zustimmungsbeschreibung:** Teams kann die APIs dieser App mit denselben Rechten aufrufen wie Sie.</span><span class="sxs-lookup"><span data-stu-id="f934e-169">**User consent description:** Teams can call this app’s APIs with the same rights as you have.</span></span>
10. <span data-ttu-id="f934e-170">Stellen Sie sicher, **Zustand** auf **Aktiviert** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="f934e-170">Ensure that **State** is set to **Enabled**.</span></span>
11. <span data-ttu-id="f934e-171">Wählen **Sie Bereich hinzufügen aus,** um die Details zu speichern.</span><span class="sxs-lookup"><span data-stu-id="f934e-171">Select **Add scope** to save the details.</span></span> <span data-ttu-id="f934e-172">Der Domänenteil  des Bereichsnamens, der unterhalb des Textfelds angezeigt wird, muss automatisch mit dem **anwendungs-ID-URI** übereinstimmen, der im vorherigen Schritt festgelegt wurde, und am Ende `/access_as_user` angefügt `api://subdomain.example.com/00000000-0000-0000-0000-000000000000/access_as_user` werden.</span><span class="sxs-lookup"><span data-stu-id="f934e-172">The domain part of the **Scope name** displayed below the text field must automatically match the **Application ID** URI set in the previous step, with `/access_as_user` appended to the end `api://subdomain.example.com/00000000-0000-0000-0000-000000000000/access_as_user`.</span></span>
12. <span data-ttu-id="f934e-173">Identifizieren Sie im Abschnitt Autorisierte **Clientanwendungen** die Anwendungen, die Sie für die Webanwendung Ihrer App autorisieren möchten.</span><span class="sxs-lookup"><span data-stu-id="f934e-173">In the **Authorized client applications** section, identify the applications that you want to authorize for your app’s web application.</span></span> <span data-ttu-id="f934e-174">Wählen **Sie Clientanwendung hinzufügen aus.**</span><span class="sxs-lookup"><span data-stu-id="f934e-174">Select **Add a client application**.</span></span> <span data-ttu-id="f934e-175">Geben Sie die folgenden Client-IDs ein, und wählen Sie den autorisierten Bereich aus, den Sie im vorherigen Schritt erstellt haben:</span><span class="sxs-lookup"><span data-stu-id="f934e-175">Enter each of the following client IDs and select the authorized scope you created in the previous step:</span></span>
    * <span data-ttu-id="f934e-176">`1fec8e78-bce4-4aaf-ab1b-5451cc387264` für mobile Teams- oder Desktopanwendung.</span><span class="sxs-lookup"><span data-stu-id="f934e-176">`1fec8e78-bce4-4aaf-ab1b-5451cc387264` for Teams mobile or desktop application.</span></span>
    * <span data-ttu-id="f934e-177">`5e3ce6c0-2b1f-4285-8d4b-75ee78787346` für die Teams-Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="f934e-177">`5e3ce6c0-2b1f-4285-8d4b-75ee78787346` for Teams web application.</span></span>
13. <span data-ttu-id="f934e-178">Navigieren Sie zu **API-Berechtigungen**.</span><span class="sxs-lookup"><span data-stu-id="f934e-178">Navigate to **API Permissions**.</span></span> <span data-ttu-id="f934e-179">Wählen **Sie Microsoft** Graph Delegierte Berechtigungen hinzufügen aus, und fügen Sie dann die folgenden Berechtigungen aus der  >    >  Graph-API hinzu:</span><span class="sxs-lookup"><span data-stu-id="f934e-179">Select **Add a permission** > **Microsoft Graph** > **Delegated permissions**, then add the following permissions from Graph API:</span></span>
    * <span data-ttu-id="f934e-180">User.Read standardmäßig aktiviert</span><span class="sxs-lookup"><span data-stu-id="f934e-180">User.Read enabled by default</span></span>
    * <span data-ttu-id="f934e-181">email</span><span class="sxs-lookup"><span data-stu-id="f934e-181">email</span></span>
    * <span data-ttu-id="f934e-182">offline_access</span><span class="sxs-lookup"><span data-stu-id="f934e-182">offline_access</span></span>
    * <span data-ttu-id="f934e-183">OpenId</span><span class="sxs-lookup"><span data-stu-id="f934e-183">OpenId</span></span>
    * <span data-ttu-id="f934e-184">Profil</span><span class="sxs-lookup"><span data-stu-id="f934e-184">profile</span></span>

14. <span data-ttu-id="f934e-185">Navigieren Sie zu **Authentifizierung**.</span><span class="sxs-lookup"><span data-stu-id="f934e-185">Navigate to **Authentication**.</span></span>

    <span data-ttu-id="f934e-186">Wenn einer App keine Zustimmung des IT-Admins erteilt wurde, müssen Benutzer bei der ersten Verwendung einer App ihre Zustimmung erteilen.</span><span class="sxs-lookup"><span data-stu-id="f934e-186">If an app has not been granted IT admin consent, users have to provide consent the first time they use an app.</span></span>

    <span data-ttu-id="f934e-187">So geben Sie einen Umleitungs-URI ein:</span><span class="sxs-lookup"><span data-stu-id="f934e-187">To enter a redirect URI:</span></span>
    * <span data-ttu-id="f934e-188">Wählen **Sie Plattform hinzufügen aus.**</span><span class="sxs-lookup"><span data-stu-id="f934e-188">Select **Add a platform**.</span></span>
    * <span data-ttu-id="f934e-189">Wählen Sie **Web** aus.</span><span class="sxs-lookup"><span data-stu-id="f934e-189">Select **web**.</span></span>
    * <span data-ttu-id="f934e-190">Geben Sie den **Umleitungs-URI** für Ihre App ein.</span><span class="sxs-lookup"><span data-stu-id="f934e-190">Enter the **redirect URI** for your app.</span></span> <span data-ttu-id="f934e-191">Dies ist die Seite, auf der der Benutzer durch einen erfolgreichen impliziten Erteilungsfluss umgeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="f934e-191">This is the page where a successful implicit grant flow redirects the user.</span></span> <span data-ttu-id="f934e-192">Dies ist derselbe vollqualifizierte Domänenname, den Sie in Schritt 5 eingegeben haben, gefolgt von der API-Route, an die eine Authentifizierungsantwort gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="f934e-192">This is the same fully qualified domain name that you entered in step 5 followed by the API route where an authentication response is sent.</span></span> <span data-ttu-id="f934e-193">Wenn Sie einem der Teams-Beispiele folgen, ist dies `https://subdomain.example.com/auth-end` .</span><span class="sxs-lookup"><span data-stu-id="f934e-193">If you are following any of the Teams samples, this is `https://subdomain.example.com/auth-end`.</span></span>

    <span data-ttu-id="f934e-194">Aktivieren Sie die implizite Gewährung, indem Sie die folgenden Kontrollkästchen aktivieren: ✔-ID-Token ✔ Zugriffstoken</span><span class="sxs-lookup"><span data-stu-id="f934e-194">Enable implicit grant by checking the following boxes: ✔ ID Token ✔ Access Token</span></span>

<span data-ttu-id="f934e-195">Glückwunsch!</span><span class="sxs-lookup"><span data-stu-id="f934e-195">Congratulations!</span></span> <span data-ttu-id="f934e-196">Sie haben die erforderlichen Voraussetzungen für die App-Registrierung erfüllt, um mit der Registerkarte SSO-App fortzufahren.</span><span class="sxs-lookup"><span data-stu-id="f934e-196">You have completed the app registration prerequisites to proceed with your tab SSO app.</span></span>

> [!NOTE]
>
> * <span data-ttu-id="f934e-197">¹ Wenn Ihre AAD-App im selben Mandanten registriert ist, in dem Sie eine Authentifizierungsanforderung in Teams stellen, kann der Benutzer nicht um Zustimmung gebeten werden und erhält sofort ein Zugriffstoken.</span><span class="sxs-lookup"><span data-stu-id="f934e-197">¹ If your AAD app is registered in the same tenant where you are making an authentication request in Teams, the user cannot be asked to consent and is granted an access token right away.</span></span> <span data-ttu-id="f934e-198">Benutzer stimmen diesen Berechtigungen nur zu, wenn die AAD-App in einem anderen Mandanten registriert ist.</span><span class="sxs-lookup"><span data-stu-id="f934e-198">Users only consent to these permissions if the AAD app is registered in a different tenant.</span></span>
> * <span data-ttu-id="f934e-199">² Wenn die benutzerdefinierte Domäne nicht zu AAD hinzugefügt wird, wird eine Fehlermeldung angezeigt, die besagt, dass der Hostname nicht auf einer bereits vorhandenen Domäne basieren darf.</span><span class="sxs-lookup"><span data-stu-id="f934e-199">² If the custom domain is not added to AAD, you get an error stating that the host name must not be based on an already owned domain.</span></span> <span data-ttu-id="f934e-200">Um AAD eine benutzerdefinierte Domäne hinzuzufügen und zu registrieren, führen Sie die Schritte zum Hinzufügen eines benutzerdefinierten Domänennamens zur [AAD-Prozedur](/azure/active-directory/fundamentals/add-custom-domain) aus, und wiederholen Sie dann Schritt 5.</span><span class="sxs-lookup"><span data-stu-id="f934e-200">To add custom domain to AAD and register it, follow the [add a custom domain name to AAD](/azure/active-directory/fundamentals/add-custom-domain) procedure, and then repeat step 5.</span></span> <span data-ttu-id="f934e-201">Sie können diesen Fehler auch erhalten, wenn Sie im Office 365-Mandanz nicht mit Administratoranmeldeinformationen angemeldet sind.</span><span class="sxs-lookup"><span data-stu-id="f934e-201">You can also get this error if you are not signed in with Admin credentials in the Office 365 tenancy.</span></span>
> * <span data-ttu-id="f934e-202">Wenn Sie den Benutzerprinzipalnamen (User Principal Name, UPN) im zurückgegebenen Zugriffstoken nicht erhalten, können Sie ihn als [optionalen](https://docs.microsoft.com/azure/active-directory/develop/active-directory-optional-claims) Anspruch in AAD hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f934e-202">If you are not receiving the user principal name (UPN)) in the returned access token, you can add it as an [optional claim](https://docs.microsoft.com/azure/active-directory/develop/active-directory-optional-claims) in AAD.</span></span>

### <a name="2-update-your-teams-application-manifest"></a><span data-ttu-id="f934e-203">2. Aktualisieren Des Anwendungsmanifests von Teams</span><span class="sxs-lookup"><span data-stu-id="f934e-203">2. Update your Teams application manifest</span></span>

<span data-ttu-id="f934e-204">Verwenden Sie den folgenden Code, um Ihrem Teams-Manifest neue Eigenschaften hinzuzufügen:</span><span class="sxs-lookup"><span data-stu-id="f934e-204">Use the following code to add new properties to your Teams manifest:</span></span>

```json
"webApplicationInfo": {
  "id": "00000000-0000-0000-0000-000000000000",
  "resource": "api://subdomain.example.com/00000000-0000-0000-0000-000000000000"
}
```

* <span data-ttu-id="f934e-205">**WebApplicationInfo** ist das übergeordnete Element der folgenden Elemente:</span><span class="sxs-lookup"><span data-stu-id="f934e-205">**WebApplicationInfo** is the parent of the following elements:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="f934e-206">**id** – Die Client-ID der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f934e-206">**id** - The client ID of the application.</span></span> <span data-ttu-id="f934e-207">Dies ist die Anwendungs-ID, die Sie im Rahmen der Registrierung der Anwendung bei Azure AD erhalten haben.</span><span class="sxs-lookup"><span data-stu-id="f934e-207">This is the application ID that you obtained as part of registering the application with Azure AD.</span></span>
>* <span data-ttu-id="f934e-208">**resource** – Die Domäne und Unterdomäne Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f934e-208">**resource** - The domain and subdomain of your application.</span></span> <span data-ttu-id="f934e-209">Dies ist der gleiche URI (einschließlich des Protokolls), den Sie beim Erstellen `api://` `scope` in Schritt 6 registriert haben.</span><span class="sxs-lookup"><span data-stu-id="f934e-209">This is the same URI (including the `api://` protocol) that you registered when creating your `scope` in step 6.</span></span> <span data-ttu-id="f934e-210">Sie dürfen den Pfad `access_as_user` nicht in Ihre Ressource verwenden.</span><span class="sxs-lookup"><span data-stu-id="f934e-210">You must not include the `access_as_user` path in your resource.</span></span> <span data-ttu-id="f934e-211">Der Domänenteil dieses URI muss mit der Domäne übereinstimmen, einschließlich aller Unterdomänen, die in den URLs Ihres Teams-Anwendungsmanifests verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="f934e-211">The domain part of this URI must match the domain, including any subdomains, used in the URLs of your Teams application manifest.</span></span>

> [!NOTE]
>
>* <span data-ttu-id="f934e-212">Die Ressource für eine AAD-App ist in der Regel der Stamm der Website-URL und der appID (z. B. `api://subdomain.example.com/00000000-0000-0000-0000-000000000000` ).</span><span class="sxs-lookup"><span data-stu-id="f934e-212">The resource for an AAD app is usually the root of its site URL and the appID (e.g. `api://subdomain.example.com/00000000-0000-0000-0000-000000000000`).</span></span> <span data-ttu-id="f934e-213">Dieser Wert wird auch verwendet, um sicherzustellen, dass Ihre Anforderung von derselben Domäne kommt.</span><span class="sxs-lookup"><span data-stu-id="f934e-213">This value is also used to ensure your request is coming from the same domain.</span></span> <span data-ttu-id="f934e-214">Stellen Sie `contentURL` sicher, dass die Für Ihre Registerkarte dieselben Domänen wie Ihre Ressourceneigenschaft verwendet.</span><span class="sxs-lookup"><span data-stu-id="f934e-214">Ensure that the `contentURL` for your tab uses the same domains as your resource property.</span></span>
>* <span data-ttu-id="f934e-215">Sie müssen manifest Version 1.5 oder höher verwenden, um das Feld zu `webApplicationInfo` implementieren.</span><span class="sxs-lookup"><span data-stu-id="f934e-215">You must use manifest version 1.5 or higher to implement the `webApplicationInfo` field.</span></span>

### <a name="3-get-an-authentication-token-from-your-client-side-code"></a><span data-ttu-id="f934e-216">3. Erhalten eines Authentifizierungstokens aus Ihrem clientseitigen Code</span><span class="sxs-lookup"><span data-stu-id="f934e-216">3. Get an authentication token from your client-side code</span></span>

<span data-ttu-id="f934e-217">Verwenden Sie die folgende Authentifizierungs-API:</span><span class="sxs-lookup"><span data-stu-id="f934e-217">Use the following authentication API:</span></span>

```javascript
var authTokenRequest = {
  successCallback: function(result) { console.log("Success: " + result); },
  failureCallback: function(error) { console.log("Failure: " + error); }
};
microsoftTeams.authentication.getAuthToken(authTokenRequest);
```

<span data-ttu-id="f934e-218">Wenn Sie anrufen – und zusätzliche Zustimmung des Benutzers für Berechtigungen auf Benutzerebene erforderlich ist, wird dem Benutzer ein Dialogfeld angezeigt, um zusätzliche `getAuthToken` Zustimmung zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="f934e-218">When you call `getAuthToken` - and additional user consent is required for user-level permissions, a dialog is shown to the user to grant additional consent.</span></span>

<span data-ttu-id="f934e-219">Nachdem Sie das Zugriffstoken im Erfolgsrückruf erhalten haben, können Sie das Zugriffstoken decodieren, um die diesem Token zugeordneten Ansprüche anzeigen zu können.</span><span class="sxs-lookup"><span data-stu-id="f934e-219">After you receive the access token in the success callback, you can decode the access token to view the claims associated with that token.</span></span> <span data-ttu-id="f934e-220">Optional können Sie das Zugriffstoken manuell kopieren und in ein Tool einfügen, z. B. [jwt.ms,](https://jwt.ms/) um den Inhalt zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="f934e-220">Optionally, you can manually copy and paste the access token into a tool, such as [jwt.ms](https://jwt.ms/) to inspect its contents.</span></span> <span data-ttu-id="f934e-221">Wenn Sie den UPN nicht im zurückgegebenen Zugriffstoken erhalten, können Sie ihn als [optionalen](https://docs.microsoft.com/azure/active-directory/develop/active-directory-optional-claims) Anspruch in AAD hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f934e-221">If you are not receiving the UPN in the returned access token, you can add it as an [optional claim](https://docs.microsoft.com/azure/active-directory/develop/active-directory-optional-claims) in AAD.</span></span>

<p>
    <img src="~/assets/images/tabs/tabs-sso-prompt.png" alt="Tab single sign-on SSO dialog prompt" width="75%"/>
</p>

## <a name="code-sample"></a><span data-ttu-id="f934e-222">Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="f934e-222">Code sample</span></span>

|<span data-ttu-id="f934e-223">**Beispielname**</span><span class="sxs-lookup"><span data-stu-id="f934e-223">**Sample name**</span></span>|<span data-ttu-id="f934e-224">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="f934e-224">**Description**</span></span>|<span data-ttu-id="f934e-225">**C#**</span><span class="sxs-lookup"><span data-stu-id="f934e-225">**C#**</span></span>|<span data-ttu-id="f934e-226">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="f934e-226">**Node.js**</span></span>|
|---------------|---------------|------|--------------|
| <span data-ttu-id="f934e-227">Registerkarte SSO</span><span class="sxs-lookup"><span data-stu-id="f934e-227">Tab SSO</span></span> |<span data-ttu-id="f934e-228">Microsoft Teams-Beispiel-App für Registerkarten Azure AD SSO</span><span class="sxs-lookup"><span data-stu-id="f934e-228">Microsoft Teams sample app for tabs Azure AD SSO</span></span>| [<span data-ttu-id="f934e-229">View</span><span class="sxs-lookup"><span data-stu-id="f934e-229">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/tab-sso/csharp)|<span data-ttu-id="f934e-230">[Ansicht](https://github.com/OfficeDev/Microsoft-Teams-Samples/blob/main/samples/tab-sso/nodejs),</span><span class="sxs-lookup"><span data-stu-id="f934e-230">[View](https://github.com/OfficeDev/Microsoft-Teams-Samples/blob/main/samples/tab-sso/nodejs),</span></span> </br>[<span data-ttu-id="f934e-231">Teams Toolkit</span><span class="sxs-lookup"><span data-stu-id="f934e-231">Teams Toolkit</span></span>](../../../toolkit/visual-studio-code-tab-sso.md)|

## <a name="known-limitations"></a><span data-ttu-id="f934e-232">Bekannte Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="f934e-232">Known limitations</span></span>

### <a name="apps-that-require-additional-graph-scopes"></a><span data-ttu-id="f934e-233">Apps, die zusätzliche Graph-Bereiche erfordern</span><span class="sxs-lookup"><span data-stu-id="f934e-233">Apps that require additional Graph scopes</span></span>

<span data-ttu-id="f934e-234">Unsere aktuelle Implementierung für SSO erteilt nur Zustimmung für Berechtigungen auf Benutzerebene, d. h. E-Mail, Profil, offline_access, OpenId und nicht für andere APIs wie User.Read oder Mail.Read.</span><span class="sxs-lookup"><span data-stu-id="f934e-234">Our current implementation for SSO only grants consent for user-level permissions that is email, profile, offline_access, OpenId and not for other APIs such as User.Read or Mail.Read.</span></span> <span data-ttu-id="f934e-235">Wenn Ihre App weitere Graph-Bereiche benötigt, werden im nächsten Abschnitt einige Problemumgehungen zur Aktivierung beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f934e-235">If your app needs further Graph scopes, the next section provides some enabling workarounds.</span></span>

#### <a name="tenant-admin-consent"></a><span data-ttu-id="f934e-236">Zustimmung des Mandantenadministrators</span><span class="sxs-lookup"><span data-stu-id="f934e-236">Tenant Admin Consent</span></span>

<span data-ttu-id="f934e-237">Der einfachste Ansatz besteht in der Vorab-Zustimmung eines Mandantenadministrators im Namen der Organisation.</span><span class="sxs-lookup"><span data-stu-id="f934e-237">The simplest approach is to get a tenant admin to pre-consent on behalf of the organization.</span></span> <span data-ttu-id="f934e-238">Dies bedeutet, dass Benutzer diesen Bereich nicht zustimmen müssen, und Sie können dann die Tokenserverseite mithilfe des [AAD-Im-Auftrag-von-Fluss](/azure/active-directory/develop/v1-oauth2-on-behalf-of-flow)austauschen.</span><span class="sxs-lookup"><span data-stu-id="f934e-238">This means users do not have to consent to these scopes and you can then be free to exchange the token server side using AAD’s [on-behalf-of flow](/azure/active-directory/develop/v1-oauth2-on-behalf-of-flow).</span></span> <span data-ttu-id="f934e-239">Diese Problemumgehung ist für interne Geschäftsanwendungen akzeptabel, reicht jedoch nicht für Drittanbieterentwickler aus, die sich nicht auf die Genehmigung des Mandantenadministrators verlassen können.</span><span class="sxs-lookup"><span data-stu-id="f934e-239">This workaround is acceptable for internal line-of-business applications but is not enough for third-party developers who are not able to rely on tenant admin approval.</span></span>

<span data-ttu-id="f934e-240">Eine einfache Möglichkeit der Zustimmung im Namen einer Organisation als Mandantenadministrator besteht im Verweisen auf `https://login.microsoftonline.com/common/adminconsent?client_id=<AAD_App_ID>` .</span><span class="sxs-lookup"><span data-stu-id="f934e-240">A simple way of consenting on behalf of an organization as a tenant admin is to refer to `https://login.microsoftonline.com/common/adminconsent?client_id=<AAD_App_ID>`.</span></span>

#### <a name="ask-for-additional-consent-using-the-auth-api"></a><span data-ttu-id="f934e-241">Bitten Sie um zusätzliche Zustimmung mithilfe der Authentifizierungs-API</span><span class="sxs-lookup"><span data-stu-id="f934e-241">Ask for additional consent using the Auth API</span></span>

<span data-ttu-id="f934e-242">Ein weiterer Ansatz zum Abrufen zusätzlicher Graph-Bereiche ist das Präsentieren eines Zustimmungsdialogfelds mithilfe unseres vorhandenen webbasierten Azure AD-Authentifizierungsansatzes, bei dem ein Dialogfeld für die Azure [AD-Zustimmung](~/tabs/how-to/authentication/auth-tab-aad.md#navigate-to-the-authorization-page-from-your-popup-page) angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="f934e-242">Another approach for getting additional Graph scopes is to present a consent dialog using our existing [web-based Azure AD authentication approach](~/tabs/how-to/authentication/auth-tab-aad.md#navigate-to-the-authorization-page-from-your-popup-page) which involves popping up an Azure AD consent dialog box.</span></span> 

<span data-ttu-id="f934e-243">**So bitten Sie um zusätzliche Zustimmung mithilfe der Authentifizierungs-API**</span><span class="sxs-lookup"><span data-stu-id="f934e-243">**To ask for additional consent using the Auth API**</span></span>

1. <span data-ttu-id="f934e-244">Das mithilfe abgerufene Token muss serverseitig mithilfe von AAD im Auftrag des Datenflusses ausgetauscht werden, um Zugriff auf diese zusätzlichen `getAuthToken()` [Graph-APIs](/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="f934e-244">The token retrieved using `getAuthToken()` needs to be exchanged server-side using AAD [on-behalf-of flow](/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) to get access to those additional Graph APIs.</span></span> <span data-ttu-id="f934e-245">Stellen Sie sicher, dass Sie den v2 Graph-Endpunkt für diesen Exchange verwenden.</span><span class="sxs-lookup"><span data-stu-id="f934e-245">Ensure you use the v2 Graph endpoint for this exchange.</span></span>
2. <span data-ttu-id="f934e-246">Wenn der Exchange fehlschlägt, gibt AAD eine ungültige Erteilungsausnahme zurück.</span><span class="sxs-lookup"><span data-stu-id="f934e-246">If the exchange fails, AAD returns an invalid grant exception.</span></span> <span data-ttu-id="f934e-247">Es gibt in der Regel eine von zwei Fehlermeldungen oder `invalid_grant` `interaction_required` .</span><span class="sxs-lookup"><span data-stu-id="f934e-247">There are usually one of two error messages, `invalid_grant` or `interaction_required`.</span></span>
3. <span data-ttu-id="f934e-248">Wenn der Austausch fehlschlägt, müssen Sie um zusätzliche Zustimmung bitten.</span><span class="sxs-lookup"><span data-stu-id="f934e-248">When the exchange fails, you must ask for additional consent.</span></span> <span data-ttu-id="f934e-249">Zeigen Sie eine Benutzeroberfläche an, die den Benutzer um zusätzliche Zustimmung bittet.</span><span class="sxs-lookup"><span data-stu-id="f934e-249">Show some user interface (UI) asking the user to grant additional consent.</span></span> <span data-ttu-id="f934e-250">Diese Benutzeroberfläche muss eine Schaltfläche enthalten, die ein AAD-Zustimmungsdialogfeld mit unserer [AAD-Authentifizierungs-API auslöst.](~/concepts/authentication/auth-silent-aad.md)</span><span class="sxs-lookup"><span data-stu-id="f934e-250">This UI must include a button that triggers an AAD consent dialog box using our [AAD authentication API](~/concepts/authentication/auth-silent-aad.md).</span></span>
4. <span data-ttu-id="f934e-251">Wenn Sie eine zusätzliche Zustimmung von AAD einholen, müssen Sie `prompt=consent` ihren [Query-string-parameter](~/tabs/how-to/authentication/auth-silent-aad.md#get-the-user-context) in AAD angeben, andernfalls fordert AAD die zusätzlichen Bereiche nicht an.</span><span class="sxs-lookup"><span data-stu-id="f934e-251">When asking for additional consent from AAD, you must include `prompt=consent` in your [query-string-parameter](~/tabs/how-to/authentication/auth-silent-aad.md#get-the-user-context) to AAD, otherwise AAD does not ask for the additional scopes.</span></span>
    * <span data-ttu-id="f934e-252">Statt `?scope={scopes}`</span><span class="sxs-lookup"><span data-stu-id="f934e-252">Instead of `?scope={scopes}`</span></span>
    * <span data-ttu-id="f934e-253">Verwenden Sie diese `?prompt=consent&scope={scopes}`</span><span class="sxs-lookup"><span data-stu-id="f934e-253">Use this `?prompt=consent&scope={scopes}`</span></span>
    * <span data-ttu-id="f934e-254">Stellen Sie sicher, dass alle Bereiche enthalten sind, für die Sie den Benutzer zur Eingabe aufgefordert haben, z. B. `{scopes}` Mail.Read oder User.Read.</span><span class="sxs-lookup"><span data-stu-id="f934e-254">Ensure that `{scopes}` includes all the scopes you are prompting the user for, for example, Mail.Read or User.Read.</span></span>
5. <span data-ttu-id="f934e-255">Nachdem der Benutzer zusätzliche Berechtigungen erteilt hat, wiederholen Sie den Im-Auftrag-von-Fluss, um Zugriff auf diese zusätzlichen APIs zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="f934e-255">Once the user has granted additional permission, retry the on-behalf-of-flow to get access to these additional APIs.</span></span>

### <a name="non-aad-authentication"></a><span data-ttu-id="f934e-256">Nicht-AAD-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="f934e-256">Non-AAD authentication</span></span>

<span data-ttu-id="f934e-257">Die oben beschriebene Authentifizierungslösung funktioniert nur für Apps und Dienste, die AAD als Identitätsanbieter unterstützen.</span><span class="sxs-lookup"><span data-stu-id="f934e-257">The above-described authentication solution only works for apps and services that support AAD as an identity provider.</span></span> <span data-ttu-id="f934e-258">Apps, die sich mit nicht AAD-basierten Diensten authentifizieren möchten, müssen weiterhin den Pop-up-basierten Webauthentifizierungsfluss [verwenden.](~/concepts/authentication.md)</span><span class="sxs-lookup"><span data-stu-id="f934e-258">Apps that want to authenticate using non-AAD based services must continue using the pop-up-based [web authentication flow](~/concepts/authentication.md).</span></span>

> [!NOTE]
> <span data-ttu-id="f934e-259">SSO wird für Apps im Besitz von Kunden innerhalb der AAD B2C-Mandanten unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f934e-259">SSO is supported for customer owned apps within the AAD B2C tenants.</span></span>
