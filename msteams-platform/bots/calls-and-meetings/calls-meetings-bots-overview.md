---
title: Bots für Anrufe und Onlinebesprechungen
description: Erfahren Sie, wie Ihre Microsoft Teams-Apps mithilfe von Sprach- und Videonachrichten mithilfe von Microsoft Graph-APIs für Anrufe und Onlinebesprechungen mit Benutzern interagieren können.
keywords: Anrufanrufe Audiovideo-IVR-Sprach-Onlinebesprechungen
ms.openlocfilehash: 0fcf420ba8d698404d00bb2cab3d61cab2245f40
ms.sourcegitcommit: 49d1ecda14042bf3f368b14c1971618fe979b914
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/23/2021
ms.locfileid: "51034642"
---
# <a name="calls-and-online-meetings-bots"></a><span data-ttu-id="b0303-104">Bots für Anrufe und Onlinebesprechungen</span><span class="sxs-lookup"><span data-stu-id="b0303-104">Calls and online meetings bots</span></span>

<span data-ttu-id="b0303-105">Durch das Hinzufügen von [Microsoft Graph-APIs](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)für Anrufe und Onlinebesprechungen können Microsoft Teams-Apps jetzt auf vielfältige Weise mithilfe von Sprach- und Videonachrichten mit Benutzern interagieren.</span><span class="sxs-lookup"><span data-stu-id="b0303-105">With the addition of [Microsoft Graph APIs for calls and online meetings](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true), Microsoft Teams apps can now interact with users in rich ways using voice and video.</span></span> <span data-ttu-id="b0303-106">Mit diesen APIs können Sie neue Features wie interaktive Sprachantwort (Interactive Voice Response, IVR), Anrufsteuerung und Zugriff auf Audio- und/oder Videodatenströme in Echtzeit für Anrufe und Besprechungen hinzufügen, einschließlich Desktop- und App-Freigabe.</span><span class="sxs-lookup"><span data-stu-id="b0303-106">These APIs allow you to add new features such as interactive voice response (IVR), call control, and access to real-time audio and/or video streams for calls and meetings, including desktop and app sharing.</span></span>

<span data-ttu-id="b0303-107">Um diese Microsoft Graph-APIs in einer Microsoft Teams-App zu verwenden, erstellen Sie einen Bot und geben einige zusätzliche Informationen und Berechtigungen an, die wir an anderer Stelle beschreiben. Zunächst ist es jedoch wichtig, einige kernige Konzepte, Terminologie und Konventionen zu verstehen:</span><span class="sxs-lookup"><span data-stu-id="b0303-107">To use these Microsoft Graph APIs in a Microsoft Teams app, you create a bot and specify some additional information and permissions which we'll describe elsewhere, but first, it's important to understand some core concepts, terminology, and conventions:</span></span>

* <span data-ttu-id="b0303-108">**Audio-/Videoanrufe.**</span><span class="sxs-lookup"><span data-stu-id="b0303-108">**Audio/video calls.**</span></span> <span data-ttu-id="b0303-109">Anrufe in Teams können rein audio- oder audio+video sein.</span><span class="sxs-lookup"><span data-stu-id="b0303-109">Calls in Teams can be purely audio or audio+video.</span></span> <span data-ttu-id="b0303-110">Aus Gründen der Kürze sagen wir nicht überall "Audio-/Videoanruf". wir sagen nur "Anruf".</span><span class="sxs-lookup"><span data-stu-id="b0303-110">For brevity's sake, we don't say "audio/video call" everywhere; we just say "call."</span></span>
* <span data-ttu-id="b0303-111">**Anruftypen.**</span><span class="sxs-lookup"><span data-stu-id="b0303-111">**Call types.**</span></span> <span data-ttu-id="b0303-112">Anrufe sind peer-to-peer (zwischen einer Person und Ihrem Bot) oder mehrteilig (Ihr Bot und zwei oder mehr Personen in einem Gruppenanruf).</span><span class="sxs-lookup"><span data-stu-id="b0303-112">Calls are either peer-to-peer (between a person and your bot) or multiparty (your bot and two or more people in a group call).</span></span>
  <span data-ttu-id="b0303-113">![CallingTypes ](~/assets/images/calls-and-meetings/call-types.png) :</span><span class="sxs-lookup"><span data-stu-id="b0303-113">![CallingTypes](~/assets/images/calls-and-meetings/call-types.png):</span></span>
  * <span data-ttu-id="b0303-114">Ein Benutzer kann einen Peer-to-Peer-Anruf mit Ihrem Bot initiieren oder Ihren Bot zu einem vorhandenen Mehrparteienanruf einladen (obwohl letzterer noch nicht in der Microsoft Teams-Benutzeroberfläche aktiviert ist).</span><span class="sxs-lookup"><span data-stu-id="b0303-114">A user may initiate a peer-to-peer call with your bot or invite your bot into an existing multiparty call (although the latter is not yet enabled in the Microsoft Teams UI).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="b0303-115">Vom Benutzer initiierte Aufrufe an einen Bot werden derzeit auf der mobilen Microsoft Teams-Plattform nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="b0303-115">User initiated calls to a bot are currently not supported on Microsoft Teams mobile platform.</span></span> 
  
  * <span data-ttu-id="b0303-116">Microsoft Graph-Berechtigungen sind für einen Benutzer nicht erforderlich, um einen Peer-zu-Peer-Anruf mit Ihrem Bot zu initiieren, es sind jedoch zusätzliche Berechtigungen erforderlich, damit Ihr Bot an einem Mehrparteienanruf teilnehmen kann oder dass Ihr Bot einen Peer-zu-Peer-Anruf mit einem Benutzer initiieren kann.</span><span class="sxs-lookup"><span data-stu-id="b0303-116">Microsoft Graph permissions aren't necessary for a user to initiate a peer-to-peer call with your bot, but additional permissions are needed for your bot to participate in a multiparty call, or for your bot to initiate a peer-to-peer call with a user.</span></span>
  * <span data-ttu-id="b0303-117">Ein Anruf kann als Peer-to-Peer gestartet und auf mehrteilige Anrufe eskaliert werden.</span><span class="sxs-lookup"><span data-stu-id="b0303-117">A call may start as peer-to-peer and escalate to multiparty.</span></span> <span data-ttu-id="b0303-118">Ihr Bot kann diese Eskalation initiieren, indem er andere einlä bittet, vorausgesetzt, ihr Bot verfügt über die entsprechenden Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="b0303-118">Your bot can initiate this escalation by inviting others, provided your bot has the proper permissions.</span></span> <span data-ttu-id="b0303-119">Wenn Ihr Bot nicht über berechtigungen für die Teilnahme an Gruppenanrufen verfügt und ein Teilnehmer eine andere Partei hinzufügt, wird Ihr Bot aus dem Anruf gelöscht.</span><span class="sxs-lookup"><span data-stu-id="b0303-119">If your bot doesn't have permissions to participate in group calls and one participant adds another party, your bot is dropped from the call.</span></span>
* <span data-ttu-id="b0303-120">**Signalisierung.**</span><span class="sxs-lookup"><span data-stu-id="b0303-120">**Signaling.**</span></span> <span data-ttu-id="b0303-121">Es gibt zwei Arten von Signalen: eingehender Anruf und In-Call-Anruf:</span><span class="sxs-lookup"><span data-stu-id="b0303-121">There are two types of signals — incoming call and in-call:</span></span>
  * <span data-ttu-id="b0303-122">Um einen eingehenden Anruf zu empfangen, geben Sie einen Endpunkt in den Boteinstellungen an. Dieser Endpunkt empfängt eine Benachrichtigung, wenn ein eingehender Anruf eintrifft.</span><span class="sxs-lookup"><span data-stu-id="b0303-122">To receive an incoming call, you specify an endpoint in your bot settings; this endpoint receives a notification when an incoming call arrives.</span></span> <span data-ttu-id="b0303-123">Sie können den Anruf beantworten, ablehnen oder an einen anderen Ort oder eine andere Person umleiten.</span><span class="sxs-lookup"><span data-stu-id="b0303-123">You can answer the call, reject it, or redirect it to somewhere or someone else.</span></span>
  <span data-ttu-id="b0303-124">![Anruftypen](~/assets/images/calls-and-meetings/call-handling.png)</span><span class="sxs-lookup"><span data-stu-id="b0303-124">![Call Types](~/assets/images/calls-and-meetings/call-handling.png)</span></span>
  * <span data-ttu-id="b0303-125">Wenn sich ein Bot in einem Anruf befindet, gibt es APIs zum Stummschalten und Änderen der Änderung selbst und zum Starten/Beenden der Freigabe von Video-/Desktopinhalten für die anderen Teilnehmer.</span><span class="sxs-lookup"><span data-stu-id="b0303-125">When a bot is in a call, there are APIs for muting and unmuting itself and to start/stop sharing video/desktop content with the other participants.</span></span>
  * <span data-ttu-id="b0303-126">Der Bot kann auch auf die Liste der Teilnehmer zugreifen, neue Teilnehmer einladen und stummschalten.</span><span class="sxs-lookup"><span data-stu-id="b0303-126">The bot can also access the list of participants, invite new participants, and mute them.</span></span>
* <span data-ttu-id="b0303-127">**Anrufe und Onlinebesprechungen.**</span><span class="sxs-lookup"><span data-stu-id="b0303-127">**Calls and online meetings.**</span></span> <span data-ttu-id="b0303-128">Aus Der Sicht eines Teams-Benutzers gibt es zwei Arten von Onlinebesprechungen – ad hoc und geplant.</span><span class="sxs-lookup"><span data-stu-id="b0303-128">From a Teams user's perspective, there are two kinds of online meetings — ad hoc and scheduled.</span></span> <span data-ttu-id="b0303-129">Aus Sicht eines Bots sind beide jedoch identisch.</span><span class="sxs-lookup"><span data-stu-id="b0303-129">However, from a bot's perspective, both are the same.</span></span> <span data-ttu-id="b0303-130">Für einen Bot ist eine Onlinekonferenz nur ein Mehrparteienanruf (der Teilnehmersatz) plus "Besprechungskoordinaten", die Sie als Metadaten für die Besprechung bezeichnen können: , der Besprechung zugeordnet, , und vieles `botId` `chatId` `joinUrl` `startTime` / `endTime` mehr.</span><span class="sxs-lookup"><span data-stu-id="b0303-130">To a bot, an online meeting is just a multiparty call (the set of participants) plus "meeting coordinates," which you can think of as the metadata for the meeting: `botId`, `chatId` associated with the meeting, `joinUrl`, `startTime`/`endTime`, and more.</span></span>
* <span data-ttu-id="b0303-131">**Echtzeitmedien.**</span><span class="sxs-lookup"><span data-stu-id="b0303-131">**Real-time media.**</span></span> <span data-ttu-id="b0303-132">Wenn ein Bot an einem Anruf oder einer Onlinebe besprechung teilnimmt, muss er sich mit Audio- und Videostreams beschäftigen.</span><span class="sxs-lookup"><span data-stu-id="b0303-132">When a bot is participating in a call or online meeting, it must deal with audio and video streams.</span></span> <span data-ttu-id="b0303-133">Wenn Benutzer bei einem Anruf sprechen, sich auf einer Webcam anzeigen oder ihre Bildschirme in einer Besprechung präsentieren, wird dies von einem Bot als Audio- und/oder Videostreams "angezeigt".</span><span class="sxs-lookup"><span data-stu-id="b0303-133">When users talk on a call, show themselves on a webcam, or present their screens in a meeting, a bot "sees" this as audio and/or video streams.</span></span> <span data-ttu-id="b0303-134">Wenn ein Bot etwas sagen oder Bildschirminhalte präsentieren möchte, erfordert dies einen Audio- oder Videostream.</span><span class="sxs-lookup"><span data-stu-id="b0303-134">If a bot wants to say something or present screen content, that requires an audio or video stream.</span></span> <span data-ttu-id="b0303-135">Selbst etwas so einfaches wie der Bot mit dem Satz "Drücken Sie 0, um den Operator zu erreichen" in einem IVR-Szenario (interaktive Sprachantwort) bedeutet die Wiedergabe eines . WAV-Datei.</span><span class="sxs-lookup"><span data-stu-id="b0303-135">Even something as simple as the bot saying, "press 0 to reach the operator" in an IVR (interactive voice response) scenario means playing a .WAV file.</span></span> <span data-ttu-id="b0303-136">Insgesamt bezeichnen wir dies  als Medien oder Echtzeitmedien _(wenn_ wir uns auf Szenarien beziehen, in denen Medien in Echtzeit verarbeitet werden müssen, an stelle der Wiedergabe zuvor aufgezeichneter Audio-/Videodaten).</span><span class="sxs-lookup"><span data-stu-id="b0303-136">Collectively, we refer to this as _media_ or _real-time media_ (when referring to scenarios where media must be processed in real time, as opposed to playback of previously-recorded audio/video).</span></span> <span data-ttu-id="b0303-137">In der Vergangenheit war der Umgang mit Medienstreams, insbesondere mit Echtzeitmedienstreams, für Entwickler äußerst komplex.</span><span class="sxs-lookup"><span data-stu-id="b0303-137">Historically, dealing with media streams, particularly real-time media streams, has been extremely complex for developers.</span></span> <span data-ttu-id="b0303-138">Microsoft hat die _Echtzeitmedienplattform_ erstellt, um diese Verwendungsfälle zu verarbeiten und den herkömmlichen "Heavy Lifting" der Echtzeitmedienverarbeitung so weit wie möglich zu entlasten.</span><span class="sxs-lookup"><span data-stu-id="b0303-138">Microsoft has created the _Real-time Media Platform_ to handle these use cases and to offload as much of the traditional "heavy lifting" of real-time media processing as possible.</span></span>  <span data-ttu-id="b0303-139">Wenn der Bot auf einen eingehenden Anruf antwortet oder einem neuen oder bestehenden Anruf beitritt, muss er der Real-Time Media-Plattform mitteilen, wie Medien behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="b0303-139">When the bot answers an incoming call, or joins a new or existing call, it needs to tell the Real-time Media Platform how media will be handled.</span></span> <span data-ttu-id="b0303-140">Wenn Sie eine IVR-Anwendung erstellen, können Sie die teure Audioverarbeitung an Microsoft ausladen.</span><span class="sxs-lookup"><span data-stu-id="b0303-140">If you're building an IVR application, you can offload the expensive audio processing to Microsoft.</span></span> <span data-ttu-id="b0303-141">Alternativ unterstützen wir dieses Szenario auch, wenn Ihr Bot direkten Zugriff auf Medienstreams benötigt.</span><span class="sxs-lookup"><span data-stu-id="b0303-141">Alternatively, if your bot requires direct access to media streams, we support that scenario too.</span></span> <span data-ttu-id="b0303-142">Es gibt die beiden Arten der Medienverarbeitung:</span><span class="sxs-lookup"><span data-stu-id="b0303-142">There are the two types of media processing:</span></span>
  * <span data-ttu-id="b0303-143">**Vom Dienst gehostete Medien.**</span><span class="sxs-lookup"><span data-stu-id="b0303-143">**Service-hosted media.**</span></span> <span data-ttu-id="b0303-144">Bots konzentrieren sich auf die Verwaltung des Anwendungsworkflows (z. B. Routinganrufe) und das Ausladen der Audioverarbeitung an die Microsoft Real-time Media Platform.</span><span class="sxs-lookup"><span data-stu-id="b0303-144">Bots focus on managing application workflow (e.g., routing calls) and offload audio processing to the Microsoft Real-time Media Platform.</span></span> <span data-ttu-id="b0303-145">Mit vom Dienst gehosteten Medien haben Sie mehrere Optionen zum Implementieren und Hosten Ihres Bots.</span><span class="sxs-lookup"><span data-stu-id="b0303-145">With service-hosted media, you have several options to implement and host your bot.</span></span> <span data-ttu-id="b0303-146">Ein vom Dienst gehosteter Medienbot kann als zustandsloser Dienst implementiert werden, da er keine Medien lokal verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="b0303-146">A service-hosted media bot can be implemented as a stateless service since it doesn't process media locally.</span></span> <span data-ttu-id="b0303-147">Vom Dienst gehostete Medienbots können APIs verwenden, z. B. zum Wiedergeben eines Audioclips, zum Aufzeichnen von Audioclips oder zum Abonnieren von `PlayPrompt` `Record` DTMF-Tönen (z. B. wissen, wann ein Benutzer 0 gedrückt hat, um den Operator zu `SubscribeToTone` erreichen).</span><span class="sxs-lookup"><span data-stu-id="b0303-147">Service-hosted media bots can use APIs such as `PlayPrompt` for playing an audio clip, `Record` for recording audio clips, or `SubscribeToTone` for subscribing to DTMF tones (e.g., knowing when a user has pressed 0 to reach the operator).</span></span>
  * <span data-ttu-id="b0303-148">**Von der Anwendung gehostete Medien.**</span><span class="sxs-lookup"><span data-stu-id="b0303-148">**Application-hosted media.**</span></span> <span data-ttu-id="b0303-149">Damit ein Bot direkten Zugriff auf die Medien erhalten kann, benötigt er eine [](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) bestimmte Graph-Berechtigung, aber sobald ihr Bot vorhanden ist, können Sie mit der Echtzeitmedienbibliothek und dem [Graph Calling SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) umfangreiche Echtzeitmedien erstellen und Bots aufrufen.</span><span class="sxs-lookup"><span data-stu-id="b0303-149">For a bot to get direct access to the media, it needs a specific Graph permission, but once your bot has it, the [Real-time Media Library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) and the [Graph Calling SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) helps you build rich, real-time media, calling bots.</span></span> <span data-ttu-id="b0303-150">Ein vom Anwendungshosting gehosteter Bot muss in einer Windows-Umgebung gehostet werden, wie hier ausführlicher [beschrieben.](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="b0303-150">An Application-hosted bot must be hosted in a Windows environment, as described in more detail [here](./requirements-considerations-application-hosted-media-bots.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="b0303-151">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="b0303-151">Further reading</span></span>

<span data-ttu-id="b0303-152">Hier finden Sie weitere Informationen zum Erstellen und Testen von Anrufen und Onlinebesprechungsbots:</span><span class="sxs-lookup"><span data-stu-id="b0303-152">Here's more information on how to create and test calls and online meetings bots:</span></span>

* [<span data-ttu-id="b0303-153">Graph-API-Referenz</span><span class="sxs-lookup"><span data-stu-id="b0303-153">Graph API reference</span></span>](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)
* [<span data-ttu-id="b0303-154">Beispielapps</span><span class="sxs-lookup"><span data-stu-id="b0303-154">Sample apps</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples)
* <span data-ttu-id="b0303-155">[Registrieren eines Bots, der Anrufe und Onlinebesprechungen](./registering-calling-bot.md) sowie Microsoft Graph-Berechtigungen für Anrufe und [Onlinebesprechungen unterstützt](./registering-calling-bot.md#add-microsoft-graph-permissions)</span><span class="sxs-lookup"><span data-stu-id="b0303-155">[Registering a bot that supports calls and online meetings](./registering-calling-bot.md) and [Microsoft Graph permissions for calls and online meetings bots](./registering-calling-bot.md#add-microsoft-graph-permissions)</span></span>
* [<span data-ttu-id="b0303-156">Entwickeln von Anruf- und Online-Besprechungsbots auf Ihrem lokalen PC</span><span class="sxs-lookup"><span data-stu-id="b0303-156">How to develop calling and online meeting bots on your local PC</span></span>](./debugging-local-testing-calling-meeting-bots.md)
* <span data-ttu-id="b0303-157">[Weitere Informationen zur Medienverarbeitung in](./real-time-media-concepts.md)Echtzeit und zur Unterstützung von von Anwendungen [gehosteten Medien](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="b0303-157">[More information on real-time media processing](./real-time-media-concepts.md), and [what's needed to support application-hosted media](./requirements-considerations-application-hosted-media-bots.md)</span></span>
* [<span data-ttu-id="b0303-158">Technische Informationen zum Behandeln eingehender Anrufbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="b0303-158">Technical information on handling incoming call notifications</span></span>](./call-notifications.md)
