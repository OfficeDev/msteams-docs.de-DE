---
title: Messaging-Erweiterungen
author: clearab
description: Übersicht über Messagingerweiterungen auf der Microsoft Teams-Plattform
localization_priority: Normal
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: ee59a7ad96572f5a8ebc6afedd2e0e8485169e5a
ms.sourcegitcommit: d90c5dafea09e2893dea8da46ee49516bbaa04b0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2021
ms.locfileid: "52075668"
---
# <a name="messaging-extensions"></a><span data-ttu-id="e48f9-103">Messaging-Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="e48f9-103">Messaging extensions</span></span>

<span data-ttu-id="e48f9-104">Messagingerweiterungen ermöglichen benutzern die Interaktion mit Ihrem Webdienst über Schaltflächen und Formulare im Microsoft Teams-Client.</span><span class="sxs-lookup"><span data-stu-id="e48f9-104">Messaging extensions allow the users to interact with your web service through buttons and forms in the Microsoft Teams client.</span></span> <span data-ttu-id="e48f9-105">Sie können Aktionen in einem externen System aus dem Bereich "Nachricht verfassen", dem Befehlsfeld oder direkt aus einer Nachricht durchsuchen oder initiieren.</span><span class="sxs-lookup"><span data-stu-id="e48f9-105">They can search or initiate actions in an external system from the compose message area, the command box, or directly from a message.</span></span> <span data-ttu-id="e48f9-106">Sie können die Ergebnisse dieser Interaktion in Form einer reicher formatierten Karte an den Microsoft Teams-Client senden.</span><span class="sxs-lookup"><span data-stu-id="e48f9-106">You can send back the results of that interaction to the Microsoft Teams client in the form of a richly formatted card.</span></span> <span data-ttu-id="e48f9-107">Dieses Dokument bietet eine Übersicht über die Messagingerweiterung, Aufgaben, die in verschiedenen Szenarien ausgeführt werden, das Arbeiten mit Messagingerweiterungen, Aktions- und Suchbefehlen sowie das Lösen von Verknüpfungen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-107">This document gives an overview of the messaging extension, tasks performed under different scenarios, working of messaging extension, action and search commands, and link unfurling.</span></span>

<span data-ttu-id="e48f9-108">In der folgenden Abbildung werden die Speicherorte angezeigt, an denen Messagingerweiterungen aufgerufen werden:</span><span class="sxs-lookup"><span data-stu-id="e48f9-108">The following image displays the locations from where messaging extensions are invoked:</span></span>

![Messagingerweiterung ruft Speicherorte auf](~/assets/images/messaging-extension-invoke-locations.png)

## <a name="scenarios-where-messaging-extensions-are-used"></a><span data-ttu-id="e48f9-110">Szenarien, in denen Messagingerweiterungen verwendet werden</span><span class="sxs-lookup"><span data-stu-id="e48f9-110">Scenarios where messaging extensions are used</span></span>

| <span data-ttu-id="e48f9-111">Szenario</span><span class="sxs-lookup"><span data-stu-id="e48f9-111">Scenario</span></span> | <span data-ttu-id="e48f9-112">Beispiel</span><span class="sxs-lookup"><span data-stu-id="e48f9-112">Example</span></span> |
|:-----------------|:-----------------|
|<span data-ttu-id="e48f9-113">Sie möchten, dass ein externes System eine Aktion und das Ergebnis der Aktion an Ihre Unterhaltung zurücksennen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-113">You want some external system to do an action  and the result of the action to be sent back to your conversation.</span></span>|<span data-ttu-id="e48f9-114">Reservieren Sie eine Ressource, und ermöglichen Sie dem Kanal, den reservierten Zeitfenster zu kennen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-114">Reserve a resource and allow the channel to know the reserved time slot.</span></span>|
|<span data-ttu-id="e48f9-115">Sie möchten etwas in einem externen System finden und die Ergebnisse für die Unterhaltung freigeben.</span><span class="sxs-lookup"><span data-stu-id="e48f9-115">You want to find something in an external system, and share the results with the conversation.</span></span>|<span data-ttu-id="e48f9-116">Suchen Sie nach einer Arbeitsaufgabe in Azure DevOps, und geben Sie sie für die Gruppe als adaptive Karte frei.</span><span class="sxs-lookup"><span data-stu-id="e48f9-116">Search for a work item in Azure DevOps, and share it with the group as an Adaptive Card.</span></span>|
|<span data-ttu-id="e48f9-117">Sie möchten eine komplexe Aufgabe ausführen, die mehrere Schritte oder viele Informationen in einem externen System enthält, und die Ergebnisse für eine Unterhaltung freigeben.</span><span class="sxs-lookup"><span data-stu-id="e48f9-117">You want to complete a complex task involving multiple steps or lots of information in an external system, and share the results with a conversation.</span></span>|<span data-ttu-id="e48f9-118">Erstellen Sie einen Fehler in Ihrem Nachverfolgungssystem basierend auf einer #A0 , weisen Sie ihn Bob zu, und senden Sie eine Karte mit den Details des Fehlers an den Unterhaltungsthread.</span><span class="sxs-lookup"><span data-stu-id="e48f9-118">Create a bug in your tracking system based on a Teams message, assign that bug to Bob, and send a card to the conversation thread with the bug's details.</span></span>|

## <a name="understand-how-messaging-extensions-work"></a><span data-ttu-id="e48f9-119">Verstehen der Funktionsweise von Messagingerweiterungen</span><span class="sxs-lookup"><span data-stu-id="e48f9-119">Understand how messaging extensions work</span></span>

<span data-ttu-id="e48f9-120">Eine Messagingerweiterung besteht aus einem Webdienst, den Sie hosten, und einem App-Manifest, das definiert, von wo aus Ihr Webdienst im Microsoft Teams-Client aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="e48f9-120">A messaging extension consists of a web service that you host and an app manifest, which defines where your web service is invoked from in the Microsoft Teams client.</span></span> <span data-ttu-id="e48f9-121">Der Webdienst nutzt das Messagingschema und das sichere Kommunikationsprotokoll des Bot Framework, sodass Sie Ihren Webdienst als Bot im Bot Framework registrieren müssen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-121">The web service takes advantage of the Bot Framework's messaging schema and secure communication protocol, so you must register your web service as a bot in the Bot Framework.</span></span> 

> [!NOTE]
> <span data-ttu-id="e48f9-122">Obwohl Sie den Webdienst manuell erstellen können, verwenden Sie [bot Framework SDK,](https://github.com/microsoft/botframework) um mit dem Protokoll zu arbeiten.</span><span class="sxs-lookup"><span data-stu-id="e48f9-122">Though you can create the web service manually, use [Bot Framework SDK](https://github.com/microsoft/botframework) to work with the protocol.</span></span>

<span data-ttu-id="e48f9-123">Im App-Manifest für Microsoft Teams-App wird eine einzelne Messagingerweiterung mit bis zu zehn verschiedenen Befehlen definiert.</span><span class="sxs-lookup"><span data-stu-id="e48f9-123">In the app manifest for Microsoft Teams app, a single messaging extension is defined with up to ten different commands.</span></span> <span data-ttu-id="e48f9-124">Jeder Befehl definiert einen Typ, z. B. Aktion oder Suche, und die Speicherorte im Client, von dem aus er aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="e48f9-124">Each command defines a type, such as action or search and the locations in the client from where it is invoked.</span></span> <span data-ttu-id="e48f9-125">Die aufruften Speicherorte sind verfassen Nachrichtenbereich, Befehlsleiste und Nachricht.</span><span class="sxs-lookup"><span data-stu-id="e48f9-125">The invoke locations are compose message area, command bar, and message.</span></span> <span data-ttu-id="e48f9-126">Beim Aufrufen empfängt der Webdienst eine HTTPS-Nachricht mit einer JSON-Nutzlast, die alle relevanten Informationen enthält.</span><span class="sxs-lookup"><span data-stu-id="e48f9-126">On invoke, the web service receives an HTTPS message with a JSON payload including all the relevant information.</span></span> <span data-ttu-id="e48f9-127">Reagieren Sie mit einer JSON-Nutzlast, sodass der Teams-Client die nächste zu aktivierende Interaktion kennen kann.</span><span class="sxs-lookup"><span data-stu-id="e48f9-127">Respond with a JSON payload, allowing the Teams client to know the next interaction to enable.</span></span> 

## <a name="types-of-messaging-extension-commands"></a><span data-ttu-id="e48f9-128">Typen von Messagingerweiterungsbefehlen</span><span class="sxs-lookup"><span data-stu-id="e48f9-128">Types of messaging extension commands</span></span>

<span data-ttu-id="e48f9-129">Es gibt zwei Arten von Messagingerweiterungsbefehlen, Aktionsbefehl und Suchbefehl.</span><span class="sxs-lookup"><span data-stu-id="e48f9-129">There are two types of messaging extension commands, action command and search command.</span></span> <span data-ttu-id="e48f9-130">Der Befehlstyp für die Messagingerweiterung definiert die Benutzeroberflächenelemente und Interaktionsflüsse, die für Ihren Webdienst verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="e48f9-130">The messaging extension command type defines the UI elements and interaction flows available to your web service.</span></span> <span data-ttu-id="e48f9-131">Einige Interaktionen, z. B. Authentifizierung und Konfiguration, sind für beide Befehlstypen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e48f9-131">Some interactions, such as authentication and configuration are available for both types of commands.</span></span>

### <a name="action-commands"></a><span data-ttu-id="e48f9-132">Aktionsbefehle</span><span class="sxs-lookup"><span data-stu-id="e48f9-132">Action commands</span></span>

<span data-ttu-id="e48f9-133">Aktionsbefehle werden verwendet, um den Benutzern ein modales Popup zum Sammeln oder Anzeigen von Informationen zu präsentieren.</span><span class="sxs-lookup"><span data-stu-id="e48f9-133">Action commands are used to present the users with a modal popup to collect or display information.</span></span> <span data-ttu-id="e48f9-134">Wenn der Benutzer das Formular übermittelt, antwortet ihr Webdienst, indem er eine Nachricht direkt in die Unterhaltung einfüge oder eine Nachricht in den Bereich verfassen einer Nachricht einfüge.</span><span class="sxs-lookup"><span data-stu-id="e48f9-134">When the user submits the form, your web service responds by inserting a message into the conversation directly or by inserting a message into the compose message area.</span></span> <span data-ttu-id="e48f9-135">Danach kann der Benutzer die Nachricht übermitteln.</span><span class="sxs-lookup"><span data-stu-id="e48f9-135">After that the user can submit the message.</span></span> <span data-ttu-id="e48f9-136">Sie können mehrere Formulare für komplexere Workflows verketten.</span><span class="sxs-lookup"><span data-stu-id="e48f9-136">You can chain multiple forms together for more complex workflows.</span></span>

<span data-ttu-id="e48f9-137">Die Aktionsbefehle werden aus dem Bereich "Nachricht verfassen", dem Befehlsfeld oder einer Nachricht ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="e48f9-137">The action commands are triggered from the compose message area, the command box, or from a message.</span></span> <span data-ttu-id="e48f9-138">Wenn der Befehl über eine Nachricht aufgerufen wird, enthält die anfängliche JSON-Nutzlast, die an Ihren Bot gesendet wurde, die gesamte Nachricht, von der aus er aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="e48f9-138">When the command is invoked from a message, the initial JSON payload sent to your bot includes the entire message it was invoked from.</span></span> <span data-ttu-id="e48f9-139">In der folgenden Abbildung wird das Befehls-Aufgabenmodul für die Messagingerweiterungsaktion angezeigt: Befehlsmodul für Die ![ Messagingerweiterungsaktion](~/assets/images/task-module.png)</span><span class="sxs-lookup"><span data-stu-id="e48f9-139">The following image displays the messaging extension action command task module: ![messaging extension action command task module](~/assets/images/task-module.png)</span></span>

### <a name="search-commands"></a><span data-ttu-id="e48f9-140">Suchbefehle</span><span class="sxs-lookup"><span data-stu-id="e48f9-140">Search commands</span></span>

<span data-ttu-id="e48f9-141">Mit Suchbefehlen können Benutzer ein externes System entweder manuell über ein Suchfeld oder durch Einfügen eines Links zu einer überwachten Domäne in den Bereich "Verfassen von Nachrichten" nach Informationen durchsuchen und die Ergebnisse der Suche in eine Nachricht einfügen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-141">Search commands allow the users to search an external system for information either manually through a search box, or by pasting a link to a monitored domain into the compose message area, and insert the results of the search into a message.</span></span> <span data-ttu-id="e48f9-142">Im grundlegendsten Suchbefehlsfluss enthält die anfängliche Aufrufnachricht die Suchzeichenfolge, die der Benutzer übermittelt hat.</span><span class="sxs-lookup"><span data-stu-id="e48f9-142">In the most basic search command flow, the initial invoke message includes the search string that the user submitted.</span></span> <span data-ttu-id="e48f9-143">Sie antworten mit einer Liste von Karten und Kartenvorschauen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-143">You respond with a list of cards and card previews.</span></span> <span data-ttu-id="e48f9-144">Der Teams-Client rendert eine Liste der Kartenvorschauen für den Benutzer.</span><span class="sxs-lookup"><span data-stu-id="e48f9-144">The Teams client renders a list of card previews for the user.</span></span> <span data-ttu-id="e48f9-145">Wenn der Benutzer eine Karte aus der Liste auswählt, wird die Karte in voller Größe in den Bereich Zum Verfassen von Nachrichten eingefügt.</span><span class="sxs-lookup"><span data-stu-id="e48f9-145">When the user selects a card from the list, the full-size card is inserted into the compose message area.</span></span>

<span data-ttu-id="e48f9-146">Die Karten werden aus dem Bereich "Nachricht verfassen" oder dem Befehlsfeld ausgelöst und nicht von einer Nachricht ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="e48f9-146">The cards are triggered from the compose message area or the command box and not triggered from a message.</span></span> <span data-ttu-id="e48f9-147">Sie können nicht von einer Nachricht ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="e48f9-147">They can not be triggered from a message.</span></span>
<span data-ttu-id="e48f9-148">In der folgenden Abbildung wird das Aufgabenmodul für den Befehlsbefehl für die Nachrichtenerweiterung angezeigt:</span><span class="sxs-lookup"><span data-stu-id="e48f9-148">The following image displays the messaging extension search command task module:</span></span>

![Suchbefehl für Messagingerweiterungen](~/assets/images/search-extension.png)

> [!NOTE]
> <span data-ttu-id="e48f9-150">Weitere Informationen zu Karten finden Sie unter [Was sind Karten.](../task-modules-and-cards/what-are-cards.md)</span><span class="sxs-lookup"><span data-stu-id="e48f9-150">For more information on cards, see [what are cards](../task-modules-and-cards/what-are-cards.md).</span></span>

## <a name="link-unfurling"></a><span data-ttu-id="e48f9-151">Entfalten von Links</span><span class="sxs-lookup"><span data-stu-id="e48f9-151">Link unfurling</span></span>

<span data-ttu-id="e48f9-152">Ein Webdienst wird aufgerufen, wenn eine URL im Bereich verfassen von Nachrichten eingegeben wird.</span><span class="sxs-lookup"><span data-stu-id="e48f9-152">A web service is invoked when a URL is pasted in the compose message area.</span></span> <span data-ttu-id="e48f9-153">Diese Funktion wird als Linkentfurling bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e48f9-153">This functionality is known as link unfurling.</span></span> <span data-ttu-id="e48f9-154">Sie können einen Aufruf abonnieren, wenn URLs, die eine bestimmte Domäne enthalten, in den Bereich "Verfassen von Nachrichten" eingedungen werden.</span><span class="sxs-lookup"><span data-stu-id="e48f9-154">You can subscribe to receive an invoke when URLs containing a particular domain are pasted into the compose message area.</span></span> <span data-ttu-id="e48f9-155">Ihr Webdienst kann die URL in einer detaillierten Karte "entfurlen", was mehr Informationen als die Standardvorschaukarte der Website enthält.</span><span class="sxs-lookup"><span data-stu-id="e48f9-155">Your web service can "unfurl" the URL into a detailed card, providing more information than the standard website preview card.</span></span> <span data-ttu-id="e48f9-156">Sie können Schaltflächen hinzufügen, damit die Benutzer sofort Maßnahmen ergreifen können, ohne den Microsoft Teams-Client zu verlassen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-156">You can add buttons to allow the users to immediately take action without leaving the Microsoft Teams client.</span></span>
<span data-ttu-id="e48f9-157">In den folgenden Bildern wird die Funktion zum Entfingen eines Links angezeigt, wenn ein Link in die Messagingerweiterung einfügbares Feature enthält:</span><span class="sxs-lookup"><span data-stu-id="e48f9-157">The following images display link unfurling feature when a link is pasted in messaging extension:</span></span>
 
![unfurl link](../assets/images/messaging-extension/unfurl-link.png)

![link unfurling](../assets/images/messaging-extension/link-unfurl.gif)

## <a name="code-sample"></a><span data-ttu-id="e48f9-160">Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="e48f9-160">Code sample</span></span>

| <span data-ttu-id="e48f9-161">**Beispielname**</span><span class="sxs-lookup"><span data-stu-id="e48f9-161">**Sample name**</span></span> | <span data-ttu-id="e48f9-162">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="e48f9-162">**Description**</span></span> | <span data-ttu-id="e48f9-163">**.NET**</span><span class="sxs-lookup"><span data-stu-id="e48f9-163">**.NET**</span></span> | <span data-ttu-id="e48f9-164">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="e48f9-164">**Node.js**</span></span> | <span data-ttu-id="e48f9-165">**Python**</span><span class="sxs-lookup"><span data-stu-id="e48f9-165">**Python**</span></span> |
|------------|-------------|----------------|------------|
| <span data-ttu-id="e48f9-166">Messagingerweiterung mit aktionsbasierten Befehlen</span><span class="sxs-lookup"><span data-stu-id="e48f9-166">Messaging extension with action-based commands</span></span> | <span data-ttu-id="e48f9-167">In diesem Beispiel wird veranschaulicht, wie Sie eine aktionsbasierte Messagingerweiterung erstellen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-167">This sample illustrates how to build an action-based messaging extension.</span></span> | [<span data-ttu-id="e48f9-168">View</span><span class="sxs-lookup"><span data-stu-id="e48f9-168">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/51.teams-messaging-extensions-action) | [<span data-ttu-id="e48f9-169">View</span><span class="sxs-lookup"><span data-stu-id="e48f9-169">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/51.teams-messaging-extensions-action) | [<span data-ttu-id="e48f9-170">View</span><span class="sxs-lookup"><span data-stu-id="e48f9-170">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/51.teams-messaging-extensions-action) |
| <span data-ttu-id="e48f9-171">Messagingerweiterung mit suchbasierten Befehlen</span><span class="sxs-lookup"><span data-stu-id="e48f9-171">Messaging extension with search-based commands</span></span> | <span data-ttu-id="e48f9-172">In diesem Beispiel wird veranschaulicht, wie Sie eine suchbasierte Messagingerweiterung erstellen.</span><span class="sxs-lookup"><span data-stu-id="e48f9-172">This sample illustrates how to build a Search-based Messaging Extension.</span></span> | [<span data-ttu-id="e48f9-173">View</span><span class="sxs-lookup"><span data-stu-id="e48f9-173">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/50.teams-messaging-extensions-search) | [<span data-ttu-id="e48f9-174">View</span><span class="sxs-lookup"><span data-stu-id="e48f9-174">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/50.teams-messaging-extensions-search) | [<span data-ttu-id="e48f9-175">View</span><span class="sxs-lookup"><span data-stu-id="e48f9-175">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/50.teams-messaging-extension-search) |

## <a name="see-also"></a><span data-ttu-id="e48f9-176">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e48f9-176">See also</span></span>

[<span data-ttu-id="e48f9-177">Erstellen einer Messaging-Erweiterung</span><span class="sxs-lookup"><span data-stu-id="e48f9-177">Create a messaging extension</span></span>](../build-your-first-app/build-messaging-extension.md)


## <a name="next-step"></a><span data-ttu-id="e48f9-178">Nächster Schritt</span><span class="sxs-lookup"><span data-stu-id="e48f9-178">Next step</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="e48f9-179">Definieren des Befehls für die Aktions-Messaging-Erweiterung</span><span class="sxs-lookup"><span data-stu-id="e48f9-179">Define action messaging extension command</span></span>](~/messaging-extensions/how-to/action-commands/define-action-command.md)

> [!div class="nextstepaction"]
> [<span data-ttu-id="e48f9-180">Definieren des Befehls für die Suchnachrichtenerweiterung</span><span class="sxs-lookup"><span data-stu-id="e48f9-180">Define search messaging extension command</span></span>](~/messaging-extensions/how-to/search-commands/define-search-command.md)
