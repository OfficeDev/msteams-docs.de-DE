---
title: Anforderungen und Überlegungen für von der Anwendung gehostete Medienbots
description: Wichtige Anforderungen und Überlegungen im Zusammenhang mit dem Erstellen von von Anwendungen gehosteten Medienbots für Microsoft Teams.
ms.topic: conceptual
localization_priority: Normal
keywords: von der Anwendung gehostete Medien windows server azure vm
ms.date: 11/16/2018
ms.openlocfilehash: 731cc53573d5c2b65eaed36d75793901fde86e54
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/26/2021
ms.locfileid: "52020056"
---
# <a name="requirements-and-considerations-for-application-hosted-media-bots"></a><span data-ttu-id="09e30-104">Anforderungen und Überlegungen für von der Anwendung gehostete Medienbots</span><span class="sxs-lookup"><span data-stu-id="09e30-104">Requirements and considerations for application-hosted media bots</span></span>

<span data-ttu-id="09e30-105">Für einen anwendungsgehostten Medienbot muss [ `Microsoft.Graph.Communications.Calls.Media` die .NET-Bibliothek](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) auf die Audio- und Videomedienstreams zugreifen.</span><span class="sxs-lookup"><span data-stu-id="09e30-105">An application-hosted media bot requires the [`Microsoft.Graph.Communications.Calls.Media` .NET library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) to access the audio and video media streams.</span></span> <span data-ttu-id="09e30-106">Der Bot muss auf einem Servercomputer oder Windows server oder Windows Server Guest Operating System (OS) in Azure bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="09e30-106">The bot must be deployed on a Windows Server machine or Windows Server guest Operating System (OS) in Azure.</span></span>

> [!NOTE]
> * <span data-ttu-id="09e30-107">Die Anleitungen für die Entwicklung von Messaging- und Interactive Voice Response (IVR)-Bots gelten nicht vollständig für das Erstellen von von Anwendungen gehosteten Medienbots.</span><span class="sxs-lookup"><span data-stu-id="09e30-107">The guidance for developing messaging and Interactive Voice Response (IVR) bots does not completely apply to building application-hosted media bots.</span></span>
> * <span data-ttu-id="09e30-108">Da sich die Microsoft Real-time Media Platform für Bots in der Entwicklervorschau befindet, können die Anleitungen in diesem Dokument geändert werden.</span><span class="sxs-lookup"><span data-stu-id="09e30-108">As the Microsoft Real-time Media Platform for bots is in developer preview, the guidance in this document is subject to change.</span></span>

## <a name="c-or-net-and-windows-server-for-development"></a><span data-ttu-id="09e30-109">C# oder .NET und Windows Server für die Entwicklung</span><span class="sxs-lookup"><span data-stu-id="09e30-109">C# or .NET and Windows Server for development</span></span>

<span data-ttu-id="09e30-110">Für einen in der Anwendung gehosteten Medienbot ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="09e30-110">An application-hosted media bot requires the following:</span></span>

- <span data-ttu-id="09e30-111">Der Bot muss in der C# und der Standard-.NET Framework entwickelt und in Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="09e30-111">The bot must be developed in C# and the standard .NET Framework and deployed in Microsoft Azure.</span></span> <span data-ttu-id="09e30-112">Sie können C++ oder Node.js-APIs nicht verwenden, um auf Echtzeitmedien zu zugreifen, und .NET Core wird für einen in der Anwendung gehosteten Medienbot nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="09e30-112">You cannot use C++ or Node.js APIs to access real-time media and .NET Core is not supported for an application-hosted media bot.</span></span>

- <span data-ttu-id="09e30-113">Der Bot kann in einer der folgenden Azure-Dienstumgebungen gehostet werden:</span><span class="sxs-lookup"><span data-stu-id="09e30-113">The bot can be hosted within one of the following Azure service environments:</span></span>
    - <span data-ttu-id="09e30-114">CloudDienst.</span><span class="sxs-lookup"><span data-stu-id="09e30-114">Cloud Service.</span></span>
    - <span data-ttu-id="09e30-115">Service Fabric mit VmSS (Virtual Machine Scale Sets)</span><span class="sxs-lookup"><span data-stu-id="09e30-115">Service Fabric with Virtual Machine Scale Sets (VMSS).</span></span>
    - <span data-ttu-id="09e30-116">Infrastructure as a Service (IaaS) Virtual Machine (VM).</span><span class="sxs-lookup"><span data-stu-id="09e30-116">Infrastructure as a Service (IaaS) Virtual Machine (VM).</span></span>  
  
- <span data-ttu-id="09e30-117">Der Bot kann nicht als Azure-Web-App bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="09e30-117">The bot cannot be deployed as an Azure web app.</span></span>

- <span data-ttu-id="09e30-118">Der Bot muss auf einer aktuellen Version der `Microsoft.Graph.Communications.Calls.Media` .NET-Bibliothek ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="09e30-118">The bot must be running on a recent version of the `Microsoft.Graph.Communications.Calls.Media` .NET library.</span></span> <span data-ttu-id="09e30-119">Der Bot muss entweder die neueste verfügbare Version des NuGet-Pakets oder eine Version [verwenden,](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/)die nicht länger als drei Monate alt ist.</span><span class="sxs-lookup"><span data-stu-id="09e30-119">The bot must use either the newest available version of the [NuGet package](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/), or a version that is not more than three months old.</span></span> <span data-ttu-id="09e30-120">Ältere Versionen der Bibliothek sind veraltet und funktionieren nach einigen Monaten nicht mehr.</span><span class="sxs-lookup"><span data-stu-id="09e30-120">Older versions of the library are deprecated and do not work after a few months.</span></span> <span data-ttu-id="09e30-121">Die Bibliothek auf dem neuesten Stand zu halten, stellt die beste Interoperabilität zwischen bot und `Microsoft.Graph.Communications.Calls.Media` Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="09e30-121">Keeping the `Microsoft.Graph.Communications.Calls.Media` library up-to-date ensures the best interoperability between the bot and Microsoft Teams.</span></span>

<span data-ttu-id="09e30-122">Der nächste Abschnitt enthält Details dazu, wo sich Medienanrufe in Echtzeit befinden.</span><span class="sxs-lookup"><span data-stu-id="09e30-122">The next section provides details on where real-time media calls are located.</span></span>

## <a name="real-time-media-calls-stay-where-they-are-created"></a><span data-ttu-id="09e30-123">Echtzeitmedienanrufe bleiben dort, wo sie erstellt werden</span><span class="sxs-lookup"><span data-stu-id="09e30-123">Real-time media calls stay where they are created</span></span>

<span data-ttu-id="09e30-124">Echtzeitmedienanrufe bleiben auf dem Computer, auf dem sie erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="09e30-124">Real-time media calls stay on the computer where they were created.</span></span> <span data-ttu-id="09e30-125">Ein Echtzeitmedienanruf wird an die Vm-Instanz angeheftet, die den Anruf angenommen oder gestartet hat.</span><span class="sxs-lookup"><span data-stu-id="09e30-125">A real-time media call is pinned to the virtual machine (VM) instance that accepted or started the call.</span></span> <span data-ttu-id="09e30-126">Medien aus einem Microsoft Teams oder Besprechungsflüssen an diese VM-Instanz, und Medien, die der Bot an Microsoft Teams muss ebenfalls von diesem virtuellen Computer stammen.</span><span class="sxs-lookup"><span data-stu-id="09e30-126">Media from a Microsoft Teams call or meeting flows to that VM instance, and media the bot sends back to Microsoft Teams must also originate from that VM.</span></span> <span data-ttu-id="09e30-127">Wenn beim Beenden des virtuellen Computers Echtzeitmedienanrufe ausgeführt werden, werden diese Anrufe abrupt beendet.</span><span class="sxs-lookup"><span data-stu-id="09e30-127">If there are any real-time media calls in progress when the VM is stopped, those calls are abruptly terminated.</span></span> <span data-ttu-id="09e30-128">Wenn der Bot über Vorkenntnisse des ausstehenden Herunterfahrens von virtuellen Computer verfügt, kann er die Aufrufe beenden.</span><span class="sxs-lookup"><span data-stu-id="09e30-128">If the bot has prior knowledge of the pending VM shutdown, it can end the calls.</span></span>

<span data-ttu-id="09e30-129">Der nächste Abschnitt enthält Details zur Barrierefreiheit von von Anwendungen gehosteten Medienbots.</span><span class="sxs-lookup"><span data-stu-id="09e30-129">The next section provides details on accessibility of application-hosted media bots.</span></span>

## <a name="application-hosted-media-bots-accessible-on-the-internet"></a><span data-ttu-id="09e30-130">Anwendungsgehostte Medienbots, auf die im Internet zugegriffen werden kann</span><span class="sxs-lookup"><span data-stu-id="09e30-130">Application-hosted media bots accessible on the internet</span></span>

<span data-ttu-id="09e30-131">Anwendungsgehostte Medienbots müssen direkt über das Internet zugänglich sein.</span><span class="sxs-lookup"><span data-stu-id="09e30-131">Application-hosted media bots must be directly accessible on the internet.</span></span> <span data-ttu-id="09e30-132">Diese Bots müssen die folgenden Features enthalten:</span><span class="sxs-lookup"><span data-stu-id="09e30-132">These bots must include the following features:</span></span>

- <span data-ttu-id="09e30-133">Jede VM-Instanz, die einen von einer Anwendung gehosteten Medienbot in Azure hosten, muss über eine öffentliche IP-Adresse (ILPIP) auf Instanzebene direkt über das Internet zugänglich sein.</span><span class="sxs-lookup"><span data-stu-id="09e30-133">Each VM instance hosting an application-hosted media bot in Azure must be directly accessible from the internet using an instance-level public IP address (ILPIP).</span></span>
    - <span data-ttu-id="09e30-134">Informationen zum Abrufen und Konfigurieren eines ILPIP für einen Azure Cloud Service finden Sie unter klassische Übersicht über öffentliche [IP-Adressen auf Instanzebene.](/azure/virtual-network/virtual-networks-instance-level-public-ip)</span><span class="sxs-lookup"><span data-stu-id="09e30-134">For obtaining and configuring an ILPIP for an Azure Cloud Service, see [instance level public IP classic overview](/azure/virtual-network/virtual-networks-instance-level-public-ip).</span></span>
    - <span data-ttu-id="09e30-135">Informationen zum Konfigurieren eines ILPIP für einen VM-Skalierungssatz finden Sie unter [Public IPv4 per virtual machine](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking#public-ipv4-per-virtual-machine).</span><span class="sxs-lookup"><span data-stu-id="09e30-135">For configuring an ILPIP for a VM Scale Set, see [public IPv4 per virtual machine](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking#public-ipv4-per-virtual-machine).</span></span>
- <span data-ttu-id="09e30-136">Der Dienst, der einen von einer Anwendung gehosteten Medienbot hosten soll, muss auch jede VM-Instanz mit einem öffentlich zugänglichen Port konfigurieren, der der jeweiligen Instanz zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="09e30-136">The service hosting an application-hosted media bot must also configure each VM instance with a public-facing port which maps to the specific instance.</span></span>
    - <span data-ttu-id="09e30-137">Für einen Azure Cloud Service erfordert dies einen Instanzeingabeendpunkt.</span><span class="sxs-lookup"><span data-stu-id="09e30-137">For an Azure Cloud Service, this requires an instance input endpoint.</span></span> <span data-ttu-id="09e30-138">Weitere Informationen finden Sie unter [Aktivieren der Kommunikation für Rolleninstanzen in Azure](/azure/cloud-services/cloud-services-enable-communication-role-instances).</span><span class="sxs-lookup"><span data-stu-id="09e30-138">For more information, see [enable communication for role instances in Azure](/azure/cloud-services/cloud-services-enable-communication-role-instances).</span></span>
    - <span data-ttu-id="09e30-139">Für einen VM-Skalierungssatz muss eine NAT-Regel für den Lastenausgleich konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="09e30-139">For a VM Scale Set, a NAT rule on the load balancer must be configured.</span></span> <span data-ttu-id="09e30-140">Weitere Informationen finden Sie unter [virtuelle Netzwerke und virtuelle Computer in Azure](/azure/virtual-machines/windows/network-overview).</span><span class="sxs-lookup"><span data-stu-id="09e30-140">For more information, see [virtual networks and virtual machines in Azure](/azure/virtual-machines/windows/network-overview).</span></span>
- <span data-ttu-id="09e30-141">Vom Anwendungshosting gehostete Medienbots werden von der Bot Framework Emulator.</span><span class="sxs-lookup"><span data-stu-id="09e30-141">Application-hosted media bots are not supported by the Bot Framework Emulator.</span></span>

<span data-ttu-id="09e30-142">Der nächste Abschnitt enthält Details zu Skalierbarkeits- und Leistungsaspekten von anwendungsgehostten Medienbots.</span><span class="sxs-lookup"><span data-stu-id="09e30-142">The next section provides details on scalability and performance considerations of application-hosted media bots.</span></span>

## <a name="scalability-and-performance-considerations"></a><span data-ttu-id="09e30-143">Überlegungen zu Skalierbarkeit und Leistung</span><span class="sxs-lookup"><span data-stu-id="09e30-143">Scalability and performance considerations</span></span>

<span data-ttu-id="09e30-144">Anwendungsgehostte Medienbots erfordern die folgenden Skalierbarkeits- und Leistungsüberlegungen:</span><span class="sxs-lookup"><span data-stu-id="09e30-144">Application-hosted media bots require the following scalability and performance considerations:</span></span>

## <a name="code-sample"></a><span data-ttu-id="09e30-145">Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="09e30-145">Code sample</span></span>

<span data-ttu-id="09e30-146">Anwendungsgehostte Medienbots-Beispiele lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="09e30-146">Application-hosted media bots samples are as follows:</span></span>

| <span data-ttu-id="09e30-147">**Beispielname**</span><span class="sxs-lookup"><span data-stu-id="09e30-147">**Sample name**</span></span> | <span data-ttu-id="09e30-148">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="09e30-148">**Description**</span></span> | <span data-ttu-id="09e30-149">**Graph**</span><span class="sxs-lookup"><span data-stu-id="09e30-149">**Graph**</span></span> |
|------------|-------------|-----------|
| <span data-ttu-id="09e30-150">Beispiel für lokale Medien</span><span class="sxs-lookup"><span data-stu-id="09e30-150">Local media sample</span></span> | <span data-ttu-id="09e30-151">Beispiele, die verschiedene lokale Medienszenarien veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="09e30-151">Samples that illustrates different local media scenarios.</span></span> | [<span data-ttu-id="09e30-152">View</span><span class="sxs-lookup"><span data-stu-id="09e30-152">View</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples/tree/master/Samples/V1.0Samples/LocalMediaSamples) |
| <span data-ttu-id="09e30-153">Remotemedienbeispiel</span><span class="sxs-lookup"><span data-stu-id="09e30-153">Remote media sample</span></span> | <span data-ttu-id="09e30-154">Beispiele, die verschiedene Remotemedienszenarien veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="09e30-154">Samples that illustrates different remote media scenarios.</span></span> | [<span data-ttu-id="09e30-155">View</span><span class="sxs-lookup"><span data-stu-id="09e30-155">View</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples/tree/master/Samples/V1.0Samples/RemoteMediaSamples) |

## <a name="see-also"></a><span data-ttu-id="09e30-156">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="09e30-156">See also</span></span>

- [<span data-ttu-id="09e30-157">Graph Aufrufen der SDK-Dokumentation</span><span class="sxs-lookup"><span data-stu-id="09e30-157">Graph Calling SDK Documentation</span></span>](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/)
- <span data-ttu-id="09e30-158">Die Bots erfordern mehr Rechen- und Netzwerkbandbreite als Messagingbots und verursachen deutlich höhere Betriebskosten.</span><span class="sxs-lookup"><span data-stu-id="09e30-158">The bots require more compute and network bandwidth capacity than messaging bots and incur significantly higher operational costs.</span></span> <span data-ttu-id="09e30-159">Ein Entwickler eines Medienbots in Echtzeit muss die Skalierbarkeit des Bots sorgfältig messen und sicherstellen, dass der Bot nicht mehr gleichzeitige Anrufe akzeptiert, als er verwalten kann.</span><span class="sxs-lookup"><span data-stu-id="09e30-159">A real-time media bot developer must carefully measure the bot's scalability, and ensure the bot does not accept more simultaneous calls than it can manage.</span></span> <span data-ttu-id="09e30-160">Ein videofähiger Bot kann nur ein oder zwei gleichzeitige Mediensitzungen pro CPU-Kern unterstützen, wenn die rohen RGB24- oder NV12-Videoformate verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="09e30-160">A video-enabled bot can sustain only one or two concurrent media sessions per CPU core if using the raw RGB24 or NV12 video formats.</span></span>
- <span data-ttu-id="09e30-161">Die Echtzeitmedienplattform nutzt derzeit keine auf dem virtuellen Computer verfügbaren Grafikverarbeitungseinheiten (Gpu), um die H.264-Videocodierung oder -decodierung zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="09e30-161">The Real-time Media Platform does not currently take advantage of any Graphics Processing Units (GPU) available on the VM to off-load H.264 video encoding or decoding.</span></span> <span data-ttu-id="09e30-162">Stattdessen erfolgt die Videocodierung und -decodierung in der Software auf der CPU.</span><span class="sxs-lookup"><span data-stu-id="09e30-162">Instead, video encode and decode are done in software on the CPU.</span></span> <span data-ttu-id="09e30-163">Wenn eine GPU verfügbar ist, nutzt der Bot sie für ein eigenes Grafikrendering, z. B. wenn der Bot ein 3D-Grafikmodul verwendet.</span><span class="sxs-lookup"><span data-stu-id="09e30-163">If a GPU is available, the bot takes advantage of it for its own graphics rendering, for example, if the bot is using a 3D graphics engine.</span></span>
- <span data-ttu-id="09e30-164">Die VM-Instanz, die den Echtzeitmedienbot hosten, muss über mindestens 2 CPU-Kerne verfügen.</span><span class="sxs-lookup"><span data-stu-id="09e30-164">The VM instance hosting the real-time media bot must have at least 2 CPU cores.</span></span> <span data-ttu-id="09e30-165">Für Azure wird ein virtueller Computer der Dv2-Reihe empfohlen.</span><span class="sxs-lookup"><span data-stu-id="09e30-165">For Azure, a Dv2-series virtual machine is recommended.</span></span> <span data-ttu-id="09e30-166">Für andere Azure VM-Typen ist ein System mit 4 virtuellen CPUs (vCPU) die erforderliche Mindestgröße.</span><span class="sxs-lookup"><span data-stu-id="09e30-166">For other Azure VM types, a system with 4 virtual CPUs (vCPU) is the minimum size required.</span></span> <span data-ttu-id="09e30-167">Weitere Informationen zu Azure VM-Typen finden Sie in [der Azure-Dokumentation](/azure/virtual-machines/windows/sizes-general).</span><span class="sxs-lookup"><span data-stu-id="09e30-167">For more information about Azure VM types, see [Azure documentation](/azure/virtual-machines/windows/sizes-general).</span></span>

<span data-ttu-id="09e30-168">Der nächste Abschnitt enthält Beispiele, die verschiedene lokale Medienszenarien veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="09e30-168">The next section provides samples that illustrate different local media scenarios.</span></span>

## <a name="samples-and-additional-resources"></a><span data-ttu-id="09e30-169">Beispiele und zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="09e30-169">Samples and additional resources</span></span>

- [<span data-ttu-id="09e30-170">Beispielanwendungen</span><span class="sxs-lookup"><span data-stu-id="09e30-170">Sample applications</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples/tree/master/Samples/V1.0Samples/LocalMediaSamples)
- [<span data-ttu-id="09e30-171">Graph aufrufende SDK-Dokumentation</span><span class="sxs-lookup"><span data-stu-id="09e30-171">Graph calling SDK documentation</span></span>](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/)

## <a name="next-step"></a><span data-ttu-id="09e30-172">Nächster Schritt</span><span class="sxs-lookup"><span data-stu-id="09e30-172">Next step</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="09e30-173">Unterstützte Medienformate</span><span class="sxs-lookup"><span data-stu-id="09e30-173">Supported media formats</span></span>](~/resources/media-formats.md)
